"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7501],{3905:(e,t,a)=>{a.d(t,{Zo:()=>m,kt:()=>N});var l=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var k=l.createContext({}),o=function(e){var t=l.useContext(k),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},m=function(e){var t=o(e.components);return l.createElement(k.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},c=l.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,k=e.parentName,m=p(e,["components","mdxType","originalType","parentName"]),c=o(a),N=n,s=c["".concat(k,".").concat(N)]||c[N]||u[N]||r;return a?l.createElement(s,i(i({ref:t},m),{},{components:a})):l.createElement(s,i({ref:t},m))}));function N(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,i=new Array(r);i[0]=c;var p={};for(var k in t)hasOwnProperty.call(t,k)&&(p[k]=t[k]);p.originalType=e,p.mdxType="string"==typeof e?e:n,i[1]=p;for(var o=2;o<r;o++)i[o]=a[o];return l.createElement.apply(null,i)}return l.createElement.apply(null,a)}c.displayName="MDXCreateElement"},5274:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>k,contentTitle:()=>i,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>o});var l=a(7462),n=(a(7294),a(3905));const r={sidebar_position:7,title:"react \u9762\u8bd5\u9898"},i=void 0,p={unversionedId:"06react",id:"06react",title:"react \u9762\u8bd5\u9898",description:"react \u7684\u4e8b\u4ef6\u673a\u5236 \uff1f",source:"@site/interview/06react.md",sourceDirName:".",slug:"/06react",permalink:"/website/interview/06react",draft:!1,tags:[],version:"current",sidebarPosition:7,frontMatter:{sidebar_position:7,title:"react \u9762\u8bd5\u9898"},sidebar:"tutorialSidebar",previous:{title:"vue\u9762\u8bd5\u9898",permalink:"/website/interview/05vue"},next:{title:"\u8ba1\u7b97\u673a\u7f51\u7edc",permalink:"/website/interview/category/\u8ba1\u7b97\u673a\u7f51\u7edc"}},k={},o=[{value:"react \u7684\u4e8b\u4ef6\u673a\u5236 \uff1f",id:"react-\u7684\u4e8b\u4ef6\u673a\u5236-",level:2},{value:"\u5e76\u53d1\u6a21\u5f0f",id:"\u5e76\u53d1\u6a21\u5f0f",level:2},{value:"\u5e76\u53d1\u6a21\u5f0f\u7684\u6838\u5fc3\u6982\u5ff5",id:"\u5e76\u53d1\u6a21\u5f0f\u7684\u6838\u5fc3\u6982\u5ff5",level:3},{value:"\u5e76\u53d1\u6a21\u5f0f\u7684\u5e94\u7528\u573a\u666f",id:"\u5e76\u53d1\u6a21\u5f0f\u7684\u5e94\u7528\u573a\u666f",level:3},{value:"diff \u7b97\u6cd5",id:"diff-\u7b97\u6cd5",level:2},{value:"\u5355\u8282\u70b9",id:"\u5355\u8282\u70b9",level:3},{value:"\u591a\u8282\u70b9",id:"\u591a\u8282\u70b9",level:3},{value:"\u8c08\u8c08\u4f60\u5bf9react\u7684\u7406\u89e3",id:"\u8c08\u8c08\u4f60\u5bf9react\u7684\u7406\u89e3",level:2},{value:"\u8c08\u8c08Vue\u548cReact\u7684\u533a\u522b\uff1f",id:"\u8c08\u8c08vue\u548creact\u7684\u533a\u522b",level:2},{value:"<strong>\u4ec0\u4e48\u662fMVC MVVM</strong>",id:"\u4ec0\u4e48\u662fmvc-mvvm",level:2},{value:"MVC",id:"mvc",level:3},{value:"MVVM",id:"mvvm",level:3},{value:"\u5bf9\u6bd4",id:"\u5bf9\u6bd4",level:3},{value:"JSX \u662f\u4ec0\u4e48",id:"jsx-\u662f\u4ec0\u4e48",level:2},{value:"Fiber",id:"fiber",level:2},{value:"\u6027\u80fd\u74f6\u9888",id:"\u6027\u80fd\u74f6\u9888",level:4},{value:"\u5c4f\u5e55\u5237\u65b0\u7387",id:"\u5c4f\u5e55\u5237\u65b0\u7387",level:4},{value:"\u5e27",id:"\u5e27",level:4},{value:"requestIdleCallback\u6211\u4eec\u5e0c\u671b\u5feb\u901f\u54cd\u5e94\u7528\u6237\uff0c\u8ba9\u7528\u6237\u89c9\u5f97\u591f\u5feb\uff0c\u4e0d\u80fd\u963b\u585e\u7528\u6237\u7684\u4ea4\u4e92",id:"requestidlecallback\u6211\u4eec\u5e0c\u671b\u5feb\u901f\u54cd\u5e94\u7528\u6237\u8ba9\u7528\u6237\u89c9\u5f97\u591f\u5feb\u4e0d\u80fd\u963b\u585e\u7528\u6237\u7684\u4ea4\u4e92",level:4},{value:"5.5 fiber",id:"55-fiber",level:4},{value:"1.5.5.1 Fiber \u662f\u4e00\u4e2a\u6267\u884c\u5355\u5143",id:"1551-fiber-\u662f\u4e00\u4e2a\u6267\u884c\u5355\u5143",level:5},{value:"Fiber \u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784",id:"fiber-\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784",level:5},{value:"React\u7684\u521d\u6b21\u6e32\u67d3",id:"react\u7684\u521d\u6b21\u6e32\u67d3",level:2},{value:"React \u7684\u5e76\u53d1\u6e32\u67d3",id:"react-\u7684\u5e76\u53d1\u6e32\u67d3",level:2},{value:"\u5173\u952e\u6982\u5ff5",id:"\u5173\u952e\u6982\u5ff5",level:3},{value:"\u5e76\u53d1\u6e32\u67d3\u7684\u4f18\u52bf",id:"\u5e76\u53d1\u6e32\u67d3\u7684\u4f18\u52bf",level:3},{value:"DIFF\u7b97\u6cd5",id:"diff\u7b97\u6cd5",level:2},{value:"\u5355\u8282\u70b9",id:"\u5355\u8282\u70b9-1",level:3},{value:"\u591a\u8282\u70b9\u7684 diff",id:"\u591a\u8282\u70b9\u7684-diff",level:3},{value:"\u4e8b\u4ef6\u673a\u5236",id:"\u4e8b\u4ef6\u673a\u5236",level:2},{value:"\u5e95\u5c42\u5b9e\u73b0\u539f\u7406",id:"\u5e95\u5c42\u5b9e\u73b0\u539f\u7406",level:3},{value:"\u5176\u4ed6",id:"\u5176\u4ed6",level:3},{value:"Hooks",id:"hooks",level:2},{value:"<strong>useCallback</strong>",id:"usecallback",level:3},{value:"useMemo",id:"usememo",level:3},{value:"\u5b9e\u73b0",id:"\u5b9e\u73b0",level:2},{value:"jsx",id:"jsx",level:3},{value:"useRffect hook",id:"userffect-hook",level:3},{value:"useState",id:"usestate",level:3}],m={toc:o};function u(e){let{components:t,...a}=e;return(0,n.kt)("wrapper",(0,l.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h2",{id:"react-\u7684\u4e8b\u4ef6\u673a\u5236-"},"react \u7684\u4e8b\u4ef6\u673a\u5236 \uff1f"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u4f18\u70b9")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u4e8b\u4ef6\u90fd\u7ed1\u5b9a\u5230\u4e86 ",(0,n.kt)("inlineCode",{parentName:"li"},"div#root")," \u4e0a \u53ef\u4ee5\u5927\u91cf\u8282\u7701\u5185\u5b58\u5360\u7528\uff0c\u51cf\u5c11\u4e8b\u4ef6\u6ce8\u518c,\u5f53\u65b0\u589e\u5b50\u5bf9\u8c61\u65f6\u65e0\u9700\u518d\u6b21\u5bf9\u5176\u7ed1\u5b9a"),(0,n.kt)("li",{parentName:"ul"},"\u5408\u6210\u4e8b\u4ef6\uff1a\u56f4\u7ed5\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u5145\u5f53\u8de8\u6d4f\u89c8\u5668\u5305\u88c5\u5668\u7684\u5bf9\u8c61,\u5b83\u4eec\u5c06\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u884c\u4e3a\u5408\u5e76\u4e3a\u4e00\u4e2a API,\u8fd9\u6837\u505a\u662f\u4e3a\u4e86\u786e\u4fdd\u4e8b\u4ef6\u5728\u4e0d\u540c\u6d4f\u89c8\u5668\u4e2d\u663e\u793a\u4e00\u81f4\u7684\u5c5e\u6027\uff08\u91cd\u5199 preventDefault \u548c stopPropagation\uff09")),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"\u5e95\u5c42\u5b9e\u73b0")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u63d2\u4ef6\u7cfb\u7edf\u6ce8\u518c\u4e8b\u4ef6\u540d"),(0,n.kt)("li",{parentName:"ul"},"\u7ed9",(0,n.kt)("inlineCode",{parentName:"li"},"div#root"),"\u7ed1\u5b9a\u4e8b\u4ef6",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u904d\u5386\u6240\u6709\u7684\u539f\u751f\u7684\u4e8b\u4ef6\u6bd4\u5982 click,\u8fdb\u884c\u76d1\u542c"),(0,n.kt)("li",{parentName:"ul"},"\u751f\u6210 dispatchEvent \u51fd\u6570\uff0c\u7ed1\u5b9a\u4e24\u4e2a\u9636\u6bb5\u7684\u4e8b\u4ef6"))),(0,n.kt)("li",{parentName:"ul"},"\u6d3e\u53d1\u4e8b\u4ef6\u5192\u6ce1\u548c\u6355\u83b7\uff08\u70b9\u51fb\u4e8b\u4ef6\u6e90\uff09",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u4e8b\u4ef6\u6e90\uff0c\u62ff\u5230\u771f\u5b9e DOM \u548c\u5bf9\u5e94\u7684 fiber"),(0,n.kt)("li",{parentName:"ul"},"\u4ece\u4e8b\u4ef6\u6e90\u5411\u4e0a\u9012\u904d\u5386 fiber\uff0c\u5c06\u5bf9\u5e94\u4e8b\u4ef6\u6620\u5c04\u7684\u51fd\u6570\u6dfb\u52a0\u5230 listeners"),(0,n.kt)("li",{parentName:"ul"},"\u521b\u5efa\u5408\u6210\u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u517c\u5bb9\u5904\u7406"),(0,n.kt)("li",{parentName:"ul"},"\u5c06\u5bf9\u5e94\u7684\u5408\u6210\u4e8b\u4ef6\u548c\u51fd\u6570\u6dfb\u52a0\u5230 dispatchQueue"))),(0,n.kt)("li",{parentName:"ul"},"\u533a\u5206\u5192\u6ce1\u548c\u6355\u83b7 \u6267\u884c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570")),(0,n.kt)("h2",{id:"\u5e76\u53d1\u6a21\u5f0f"},"\u5e76\u53d1\u6a21\u5f0f"),(0,n.kt)("p",null,"React \u7684 ",(0,n.kt)("strong",{parentName:"p"},"\u5e76\u53d1\u6a21\u5f0f\uff08Concurrent Mode\uff09")," \u662f React \u4e3a\u4e86\u89e3\u51b3\u590d\u6742\u5e94\u7528\u4e2d UI \u66f4\u65b0\u5361\u987f\u3001\u63d0\u9ad8\u7528\u6237\u4f53\u9a8c\u800c\u5f15\u5165\u7684\u4e00\u79cd\u65b0\u7279\u6027\u3002\u5b83\u901a\u8fc7\u5e76\u53d1\u5904\u7406\u591a\u4e2a\u4efb\u52a1\uff0c\u8ba9 React \u80fd\u591f\u66f4\u7075\u6d3b\u3001\u66f4\u667a\u80fd\u5730\u8c03\u5ea6\u6e32\u67d3\u4efb\u52a1\uff0c\u4ece\u800c\u63d0\u5347\u5e94\u7528\u7684\u54cd\u5e94\u6027\u548c\u6027\u80fd\u3002"),(0,n.kt)("p",null,"\u5e76\u53d1\u6a21\u5f0f\u7684\u6838\u5fc3\u76ee\u6807\u662f\u8ba9 React \u5e94\u7528\u53ef\u4ee5\u66f4\u81ea\u7136\u5730\u5904\u7406\u590d\u6742\u7684\u7528\u6237\u4ea4\u4e92\u573a\u666f\uff0c\u5982\u5927\u578b\u8868\u5355\u7684\u8f93\u5165\u54cd\u5e94\u3001\u52a8\u753b\u6e32\u67d3\uff0c\u4ee5\u53ca\u80cc\u666f\u6570\u636e\u52a0\u8f7d\u7b49\u4efb\u52a1\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5e94\u7528\u7684\u6d41\u7545\u5ea6\u3002React \u5e76\u53d1\u6a21\u5f0f\u57fa\u4e8e\u5176\u5e95\u5c42\u7684 ",(0,n.kt)("strong",{parentName:"p"},"Fiber")," \u67b6\u6784\u3002"),(0,n.kt)("h3",{id:"\u5e76\u53d1\u6a21\u5f0f\u7684\u6838\u5fc3\u6982\u5ff5"},"\u5e76\u53d1\u6a21\u5f0f\u7684\u6838\u5fc3\u6982\u5ff5"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u53ef\u4e2d\u65ad\u6e32\u67d3"),"\uff1a",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5728\u4f20\u7edf\u7684 React \u6e32\u67d3\u6a21\u578b\u4e2d\uff0c\u6e32\u67d3\u4efb\u52a1\u662f\u540c\u6b65\u7684\uff0c\u5373\u4e00\u65e6\u5f00\u59cb\u6e32\u67d3\u4efb\u52a1\uff0c\u5b83\u4f1a\u963b\u585e\u76f4\u5230\u6e32\u67d3\u5b8c\u6210\u3002\u8fd9\u610f\u5473\u7740\u5982\u679c\u6e32\u67d3\u4efb\u52a1\u8f83\u5927\uff0c\u7528\u6237\u7684\u4ea4\u4e92\u53ef\u80fd\u4f1a\u53d8\u5f97\u8fdf\u949d\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u5e76\u53d1\u6a21\u5f0f\u5141\u8bb8 React \u5728\u6267\u884c\u8f83\u957f\u65f6\u95f4\u7684\u6e32\u67d3\u4efb\u52a1\u65f6\uff0c\u53ef\u4ee5\u4e2d\u9014\u6682\u505c\u8fd9\u4e2a\u4efb\u52a1\uff0c\u4ee5\u4fbf\u5148\u5904\u7406\u66f4\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\uff0c\u6bd4\u5982\u7528\u6237\u8f93\u5165\u3001\u52a8\u753b\u7b49\u3002"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u4efb\u52a1\u4f18\u5148\u7ea7\u8c03\u5ea6"),"\uff1a",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"React \u5e76\u53d1\u6a21\u5f0f\u901a\u8fc7\u5f15\u5165\u4efb\u52a1\u4f18\u5148\u7ea7\uff0c\u4f7f\u5f97\u6e32\u67d3\u548c\u66f4\u65b0\u4efb\u52a1\u53ef\u4ee5\u6839\u636e\u91cd\u8981\u6027\u8fdb\u884c\u8c03\u5ea6\u3002\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\uff08\u5982\u7528\u6237\u4ea4\u4e92\uff09\u4f1a\u4f18\u5148\u6267\u884c\uff0c\u800c\u4f4e\u4f18\u5148\u7ea7\u4efb\u52a1\uff08\u5982\u80cc\u666f\u6570\u636e\u52a0\u8f7d\uff09\u5219\u53ef\u4ee5\u7a0d\u540e\u6267\u884c\u6216\u8005\u88ab\u5ef6\u8fdf\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u8fd9\u79cd\u4f18\u5148\u7ea7\u8c03\u5ea6\u786e\u4fdd\u4e86 React \u5e94\u7528\u5728\u7528\u6237\u4ea4\u4e92\u5bc6\u96c6\u7684\u573a\u666f\u4e0b\uff0c\u4ecd\u7136\u80fd\u591f\u4fdd\u6301\u54cd\u5e94\u8fc5\u901f\u3002"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u5207\u7247\uff08Time Slicing\uff09"),"\uff1a",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5e76\u53d1\u6a21\u5f0f\u5229\u7528\u4e86\u65f6\u95f4\u5207\u7247\u6280\u672f\uff0c\u5c06\u4e00\u4e2a\u5927\u7684\u6e32\u67d3\u4efb\u52a1\u5206\u6210\u591a\u4e2a\u5c0f\u4efb\u52a1\u6267\u884c\u3002\u6bcf\u4e2a\u65f6\u95f4\u7247\u7ed3\u675f\u65f6\uff0cReact \u53ef\u4ee5\u68c0\u67e5\u5f53\u524d\u7684\u4efb\u52a1\u4f18\u5148\u7ea7\uff0c\u51b3\u5b9a\u662f\u7ee7\u7eed\u5f53\u524d\u4efb\u52a1\uff0c\u8fd8\u662f\u5207\u6362\u5230\u5176\u4ed6\u66f4\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\u3002"),(0,n.kt)("li",{parentName:"ul"},"\u8fd9\u4f7f\u5f97 React \u53ef\u4ee5\u5728\u4e0d\u540c\u7684\u4efb\u52a1\u4e4b\u95f4\u5207\u6362\uff0c\u4fdd\u6301 UI \u7684\u6d41\u7545\u6027\u3002"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u6682\u505c\u548c\u6062\u590d\u6e32\u67d3"),"\uff1a",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"React \u5728\u5e76\u53d1\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u6682\u505c\u67d0\u4e2a\u6e32\u67d3\u4efb\u52a1\uff0c\u5e76\u5728\u672a\u6765\u7684\u67d0\u4e2a\u65f6\u523b\u6062\u590d\u5b83\u3002\u8fd9\u79cd\u7075\u6d3b\u6027\u4f7f\u5f97 React \u80fd\u591f\u66f4\u597d\u5730\u5e94\u5bf9\u590d\u6742\u573a\u666f\u4e0b\u7684 UI \u66f4\u65b0\uff0c\u907f\u514d\u957f\u65f6\u95f4\u963b\u585e\u4e3b\u7ebf\u7a0b\u7684\u60c5\u51b5\u3002"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u5e76\u884c\u5904\u7406\u591a\u4e2a\u72b6\u6001\u66f4\u65b0"),"\uff1a",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5728\u5e76\u53d1\u6a21\u5f0f\u4e2d\uff0cReact \u53ef\u4ee5\u5e76\u884c\u5904\u7406\u591a\u4e2a\u72b6\u6001\u66f4\u65b0\uff0c\u800c\u4e0d\u662f\u6309\u987a\u5e8f\u5904\u7406\u3002\u8fd9\u4f7f\u5f97 React \u80fd\u591f\u5728\u540e\u53f0\u51c6\u5907\u548c\u6267\u884c\u591a\u4e2a\u6e32\u67d3\u4efb\u52a1\uff0c\u5e76\u5728\u9002\u5f53\u7684\u65f6\u673a\u63d0\u4ea4\u6700\u4f18\u7ed3\u679c\u3002")))),(0,n.kt)("h3",{id:"\u5e76\u53d1\u6a21\u5f0f\u7684\u5e94\u7528\u573a\u666f"},"\u5e76\u53d1\u6a21\u5f0f\u7684\u5e94\u7528\u573a\u666f"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u7528\u6237\u8f93\u5165\u4e0e\u6e32\u67d3\u4e4b\u95f4\u7684\u5e73\u8861"),"\uff1a\u5e76\u53d1\u6a21\u5f0f\u5141\u8bb8 React \u5728\u7528\u6237\u8f93\u5165\u65f6\u4e2d\u65ad\u6e32\u67d3\u4efb\u52a1\uff0c\u4f18\u5148\u5904\u7406\u8f93\u5165\u4e8b\u4ef6\uff0c\u907f\u514d\u56e0\u957f\u65f6\u95f4\u6e32\u67d3\u4efb\u52a1\u5bfc\u81f4\u8f93\u5165\u5ef6\u8fdf\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u5e73\u6ed1\u7684\u52a8\u753b\u548c\u8fc7\u6e21\u6548\u679c"),"\uff1aReact \u80fd\u591f\u4f18\u5148\u5904\u7406\u52a8\u753b\u6216\u8fc7\u6e21\u6548\u679c\uff0c\u8ba9\u754c\u9762\u4fdd\u6301\u6d41\u7545\uff0c\u540c\u65f6\u540e\u53f0\u5b8c\u6210\u5176\u4ed6\u7684\u66f4\u65b0\u4efb\u52a1\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u590d\u6742\u7684\u80cc\u666f\u6570\u636e\u52a0\u8f7d"),"\uff1a\u5e76\u53d1\u6a21\u5f0f\u8ba9 React \u5728\u52a0\u8f7d\u548c\u66f4\u65b0\u6570\u636e\u65f6\uff0c\u53ef\u4ee5\u5c06\u90e8\u5206\u6e32\u67d3\u4efb\u52a1\u63a8\u8fdf\u5230\u66f4\u5408\u9002\u7684\u65f6\u673a\uff0c\u786e\u4fdd\u4e0d\u4f1a\u5f71\u54cd\u7528\u6237\u7684\u4ea4\u4e92\u4f53\u9a8c\u3002")),(0,n.kt)("h2",{id:"diff-\u7b97\u6cd5"},"diff \u7b97\u6cd5"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u65b0\u7684\u865a\u62df dom \u548c\u8001\u7684 fiber \u6811\u6784\u5efa\u65b0\u7684 fiber \u6811")),(0,n.kt)("h3",{id:"\u5355\u8282\u70b9"},"\u5355\u8282\u70b9"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/ghx9908/image-hosting/master/img/20230220164823.png",alt:null})),(0,n.kt)("h3",{id:"\u591a\u8282\u70b9"},"\u591a\u8282\u70b9"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5f00\u59cb\u7b2c\u4e00\u8f6e\u5faa\u73af \u5982\u679c\u8001 fiber \u6709\u503c\uff0c\u65b0\u7684\u865a\u62df DOM\uff08\u662f\u591a\u8282\u70b9\uff09\u4e5f\u6709\u503c \uff0c\u904d\u5386\u65b0\u7684\u865a\u62df dom",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c key \u4e0d\u540c\u5219\u76f4\u63a5\u7ed3\u675f\u672c\u8f6e\u5faa\u73af\uff0c"),(0,n.kt)("li",{parentName:"ul"},"key \u4e00\u6837\uff0c\u6bd4\u8f83 type\uff0c\u8bd5\u56fe\u66f4\u65b0\u6216\u8005\u8bd5\u56fe\u590d\u7528\u8001\u7684 fiber\uff0c\u5426\u5219\u521b\u5efa\u65b0 fiber"),(0,n.kt)("li",{parentName:"ul"},"\u68c0\u67e5\u662f\u5426\u6210\u529f\u590d\u7528\u8001 fiber\uff0c\u672a\u6210\u529f\u670d\u7528\u7684\u9700\u8981\u7ed9\u5f53\u524d fiber \u7684\u7236 fiber \u6dfb\u52a0\u5220\u9664\u7684\u6807\u8bc6\uff0c\u5c06\u65b0\u7684 fiber \u6807\u8bb0\u4f4d\u63d2\u5165"),(0,n.kt)("li",{parentName:"ul"},"\u7ee7\u7eed\u5faa\u73af"))),(0,n.kt)("li",{parentName:"ul"},"\u5f00\u542f\u7b2c\u4e8c\u8f6e\u904d\u5386",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u65b0\u7684\u865a\u62df dom  newChildren \u904d\u5386\u5b8c\u800c oldFiber \u8fd8\u6709\uff0c\u904d\u5386\u5269\u4e0b\u6240\u6709\u7684 oldFiber \u6807\u8bb0\u4e3a\u5220\u9664\uff0cDIFF \u7ed3\u675f"),(0,n.kt)("li",{parentName:"ul"},"\u8001\u7684 fiber \uff08oldFiber\uff09 \u904d\u5386\u5b8c\u4e86,\u800c\u65b0\u7684\u865a\u62df dom\uff08newChildren\uff09 \u8fd8\u6709\uff0c\u5c06\u5269\u4e0b\u7684 newChildren \u6807\u8bb0\u4e3a\u63d2\u5165\uff0cDIFF \u7ed3\u675f"),(0,n.kt)("li",{parentName:"ul"},"newChildren \u548c oldFiber \u90fd\u540c\u65f6\u904d\u5386\u5b8c\u6210\uff0cdiff \u7ed3\u675f"),(0,n.kt)("li",{parentName:"ul"},"newChildren \u548c oldFiber \u90fd\u6ca1\u6709\u5b8c\u6210\uff0c\u5219\u8fdb\u884c",(0,n.kt)("inlineCode",{parentName:"li"},"\u8282\u70b9\u79fb\u52a8"),"\u7684\u903b\u8f91"))),(0,n.kt)("li",{parentName:"ul"},"\u79fb\u52a8\uff08\u904d\u5386\u65b0\u7684\u865a\u62df dom\uff0c \u8001\u7684 fiber \u653e map, \u4fbf\u5229\u5224\u65ad\u8282\u70b9\u662f\u5426\u9700\u8981\u5220\u9664 \u79fb\u52a8 \u590d\u7528 \u65b0\u5efa\uff09",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u628a\u5269\u4f59 oldFibers \u653e\u5230 map \u4e2d\uff0c fiber \u548c key \u6216\u8005 index \u505a\u6620\u5c04"),(0,n.kt)("li",{parentName:"ul"},"\u5f00\u59cb\u904d\u5386\u5269\u4e0b\u7684\u865a\u62df DOM \u5b50\u8282\u70b9"),(0,n.kt)("li",{parentName:"ul"},"\u5728 map \u4e2d \u67e5\u627e\u8be5\u865a\u62df dom \u8282\u70b9\u662f\u5426\u6709\u53ef\u7528\u7684 fiber \u80fd\u590d\u7528\uff0c\u4e0d\u80fd\u5c31\u65b0\u5efa fiber \u5e76\u8fd4\u56de"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u5728 map \u4e2d\u627e\u5230 \u8bf4\u660e\u590d\u7528\u6210\u529f\uff0c\u5219 map \u4e2d\u5220\u9664\u590d\u7528\u7684\u8be5 fiber"),(0,n.kt)("li",{parentName:"ul"},"\u6307\u5b9a\u65b0\u7684 fiber \u5b58\u653e\u4f4d\u7f6e \uff0c\u5224\u65ad\u662f\u5426\u9700\u8981\u79fb\u52a8"),(0,n.kt)("li",{parentName:"ul"},"\u5b9a\u4e49\u4e00\u4e2a lastPlacedIndex \u9ed8\u8ba4\u4e3a 0"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709\u8001 fibe \u76f4\u63a5\u6807\u8bb0 flag \u4e3a Placement"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u8001 fiber\uff0c\u6bd4\u8f83\u8001 fiber \u4e2d\u7684\u7d22\u5f15 oldIndex \u548c lastPlacedIndex\uff0c",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c oldIndex< lastPlacedIndex,\u6807\u8bb0\u8be5\u8282\u70b9\u9700\u8981\u79fb\u52a8\uff0c\u5e76\u4e14\u628a oldIndex \u8d4b\u503c\u7ed9 lastPlacedIndex"),(0,n.kt)("li",{parentName:"ul"},"\u5426\u5219\u8bf4\u660e\u8be5\u8282\u70b9\u4e0d\u9700\u8981\u4ee5\u79fb\u52a8\uff0c\u65e0\u987b\u6dfb\u52a0\u526f\u4f5c\u7528"))),(0,n.kt)("li",{parentName:"ul"},"\u904d\u5386\u4e0b\u4e00\u4e2a\u8282\u70b9"),(0,n.kt)("li",{parentName:"ul"},"\u7b49\u5168\u90e8\u5904\u7406\u5b8c\u540e\uff0c\u5220\u9664 map \u4e2d\u6240\u6709\u5269\u4e0b\u7684\u8001 fiber"),(0,n.kt)("li",{parentName:"ul"},"commit \u9636\u6bb5\u5904\u7406\u526f\u4f5c\u7528 \u66f4\u65b0 \u5220\u9664 \u6216\u8005\u6dfb\u52a0")))),(0,n.kt)("h2",{id:"\u8c08\u8c08\u4f60\u5bf9react\u7684\u7406\u89e3"},"\u8c08\u8c08\u4f60\u5bf9react\u7684\u7406\u89e3"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("strong",{parentName:"p"},"React \u662f\u4e00\u4e2a\u7528\u4e8e\u6784\u5efa\u7528\u6237\u754c\u9762\u7684 JavaScript \u5e93"),"\u3002\u5b83\u901a\u8fc7\u7ec4\u4ef6\u5316\u7684\u65b9\u5f0f\uff0c\u5c06\u9875\u9762\u5212\u5206\u4e3a\u591a\u4e2a\u72ec\u7acb\u7684\u90e8\u5206\uff0c\u8ba9\u5f00\u53d1\u8005\u53ef\u4ee5\u66f4\u52a0\u6a21\u5757\u5316\u3001\u9ad8\u6548\u5730\u6784\u5efa Web \u5e94\u7528\u3002React \u5021\u5bfc\u6570\u636e\u548c\u89c6\u56fe\u7684\u5206\u79bb\uff0c\u5c06\u89c6\u56fe\u6e32\u67d3\u62bd\u8c61\u6210\u4e00\u4e2a\u5355\u5411\u6570\u636e\u6d41\u7684\u8fc7\u7a0b\u3002\u5f53\u6570\u636e\u53d1\u751f\u53d8\u5316\u65f6\uff0cReact \u53ef\u4ee5\u9ad8\u6548\u5730\u66f4\u65b0\u89c6\u56fe\uff0c\u4f7f\u5f97\u5f00\u53d1\u8005\u53ef\u4ee5\u66f4\u52a0\u4e13\u6ce8\u4e8e\u4e1a\u52a1\u903b\u8f91\u3002"),(0,n.kt)("p",{parentName:"li"},"React \u7684\u7279\u70b9\u5305\u62ec\uff1a"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u7ec4\u4ef6\u5316\uff1a"),"React \u5e94\u7528\u7531\u591a\u4e2a\u72ec\u7acb\u7ec4\u4ef6\u6784\u6210\uff0c\u6bcf\u4e2a\u7ec4\u4ef6\u6709\u81ea\u5df1\u7684\u72b6\u6001\u548c\u751f\u547d\u5468\u671f\uff0c\u53ef\u4ee5\u88ab\u590d\u7528\uff0c\u4f7f\u5f97\u5e94\u7528\u7ed3\u6784\u66f4\u52a0\u6e05\u6670\u3002"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u865a\u62df DOM\uff1a"),"React \u901a\u8fc7\u865a\u62df DOM \u7684\u65b9\u5f0f\uff0c\u51cf\u5c11\u4e86\u771f\u5b9e DOM \u7684\u64cd\u4f5c\uff0c\u63d0\u9ad8\u4e86\u9875\u9762\u66f4\u65b0\u7684\u6548\u7387\u3002"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u5355\u5411\u6570\u636e\u6d41\uff1a"),"React \u6570\u636e\u7684\u6d41\u52a8\u662f\u5355\u5411\u7684\uff0c\u81ea\u4e0a\u800c\u4e0b\u4f20\u9012\u6570\u636e\uff0c\u5b50\u7ec4\u4ef6\u4e0d\u4f1a\u76f4\u63a5\u4fee\u6539\u7236\u7ec4\u4ef6\u7684\u6570\u636e\u3002"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u751f\u547d\u5468\u671f\uff1a"),"React \u7ec4\u4ef6\u5177\u6709\u751f\u547d\u5468\u671f\u65b9\u6cd5\uff0c\u53ef\u4ee5\u5728\u7ec4\u4ef6\u521b\u5efa\u3001\u66f4\u65b0\u548c\u9500\u6bc1\u65f6\u6267\u884c\u76f8\u5e94\u7684\u64cd\u4f5c\u3002"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"JSX\uff1a"),"React \u4f7f\u7528 JSX \u8bed\u6cd5\uff0c\u5c06\u7ec4\u4ef6\u548c\u6a21\u677f\u7ed3\u5408\u5728\u4e00\u8d77\uff0c\u65b9\u4fbf\u5f00\u53d1\u8005\u7f16\u5199\u548c\u7ef4\u62a4\u4ee3\u7801\u3002"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u5f3a\u5927\u7684\u751f\u6001\u5708"),"\uff1aReact \u751f\u6001\u5708\u975e\u5e38\u5e9e\u5927\uff0c\u6709\u8bb8\u591a\u5468\u8fb9\u5e93\u53ef\u4ee5\u63d0\u4f9b\u5404\u79cd\u529f\u80fd\uff0c\u5982 Redux\u3001React Router\u3001Ant Design \u7b49\u3002")),(0,n.kt)("p",{parentName:"li"},"\u603b\u4e4b\uff0cReact \u662f\u4e00\u4e2a\u975e\u5e38\u5f3a\u5927\u7684\u524d\u7aef\u5e93\uff0c\u5b83\u7684\u7ec4\u4ef6\u5316\u3001\u865a\u62df DOM\u3001\u5355\u5411\u6570\u636e\u6d41\u7b49\u7279\u6027\u53ef\u4ee5\u5e2e\u52a9\u5f00\u53d1\u8005\u66f4\u52a0\u9ad8\u6548\u3001\u6e05\u6670\u5730\u6784\u5efa Web \u5e94\u7528\u3002"))),(0,n.kt)("h2",{id:"\u8c08\u8c08vue\u548creact\u7684\u533a\u522b"},"\u8c08\u8c08Vue\u548cReact\u7684\u533a\u522b\uff1f"),(0,n.kt)("p",null,"\u90fd",(0,n.kt)("strong",{parentName:"p"},"\u4f7f\u7528\u865a\u62df DOM\u3001\u63d0\u4f9b\u4e86\u7ec4\u4ef6\u5316\u5f00\u53d1\u7b49\u7279\u6027\u3002")),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u6a21\u677f\u8bed\u6cd5"),"\uff1aVue \u4f7f",(0,n.kt)("strong",{parentName:"li"},"\u7528\u6a21\u677f\u8bed\u6cd5\uff08"),"template syntax\uff09\uff0c\u800c React \u4f7f\u7528 ",(0,n.kt)("strong",{parentName:"li"},"JSX \u8bed\u6cd5"),"\uff08JavaScript XML\uff09\u3002\u6a21\u677f\u8bed\u6cd5\u66f4\u63a5\u8fd1\u4e8e\u4f20\u7edf\u7684 HTML \u4e66\u5199\u65b9\u5f0f\uff0c\u53ef\u4ee5\u8ba9\u5f00\u53d1\u8005\u66f4\u5bb9\u6613\u5730\u7406\u89e3\u548c\u7ef4\u62a4\u4ee3\u7801\uff1bJSX \u5219\u5141\u8bb8\u5f00\u53d1\u8005\u5728 JavaScript \u4e2d\u7f16\u5199 XML \u6807\u7b7e\uff0c\u4f7f\u5f97\u7ec4\u4ef6\u5f00\u53d1\u66f4\u52a0\u7075\u6d3b\u3002"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u6570\u636e\u7ed1\u5b9a\uff1aVue \u7684\u6570\u636e\u53cc\u5411\u7ed1\u5b9a\u6bd4 React \u66f4\u52a0\u65b9\u4fbf\u5b9e\u73b0\uff0c"),"\u56e0\u4e3a Vue \u5185\u7f6e\u4e86 v-model \u6307\u4ee4\u3002",(0,n.kt)("strong",{parentName:"li"},"React \u5b9e\u73b0\u6570\u636e\u7ed1\u5b9a\u9700\u8981\u624b\u52a8\u8fdb\u884c\u63a7\u5236\uff0c\u4f8b\u5982\u4f7f\u7528 setState \u65b9\u6cd5\u6765"),"\u4fee\u6539\u72b6\u6001\u5e76\u89e6\u53d1\u91cd\u65b0\u6e32\u67d3\u3002"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u7ec4\u4ef6\u5316\u5f00\u53d1"),"\uff1aVue \u548c React \u90fd\u5177\u5907\u7ec4\u4ef6\u5316\u5f00\u53d1\u7684\u80fd\u529b\uff0c\u4f46\u662f ",(0,n.kt)("strong",{parentName:"li"},"Vue \u5728\u7ec4\u4ef6\u5f00\u53d1\u4e0a\u7684\u8bed\u6cd5\u548c\u89c4\u8303\u66f4\u52a0\u4e25\u8c28"),"\uff0c\u4f8b\u5982\u5728\u7ec4\u4ef6\u4e2d\u5fc5\u987b\u5b9a\u4e49 props \u548c data \u7b49\u5c5e\u6027\uff0c\u5e76\u4e14\u6bcf\u4e2a\u7ec4\u4ef6\u90fd\u5fc5\u987b\u5305\u542b\u4e00\u4e2a template\u3002"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u6027\u80fd\uff1a"),"Vue \u7684\u6027\u80fd\u4f18\u5316\u6bd4 React \u66f4\u52a0\u7b80\u5355\uff0c\u56e0\u4e3a Vue \u81ea\u5e26\u4e86\u6a21\u677f\u7f16\u8bd1\u548c\u54cd\u5e94\u5f0f\u7cfb\u7edf\u3002\u800c React \u9700\u8981\u624b\u52a8\u5bf9\u7ec4\u4ef6\u8fdb\u884c\u4f18\u5316\uff0c\u4f8b\u5982\u4f7f\u7528 shouldComponentUpdate \u65b9\u6cd5\u6765\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u6e32\u67d3\u3002"),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u793e\u533a\u652f\u6301"),"\uff1aReact \u62e5\u6709\u66f4\u52a0\u5e9e\u5927\u7684\u793e\u533a\u652f\u6301\uff0c\u56e0\u6b64\u5728\u751f\u6001\u65b9\u9762\u66f4\u52a0\u4e30\u5bcc\uff0c\u4f8b\u5982 Redux\u3001React Native \u7b49\u6269\u5c55\u5e93\u548c\u5de5\u5177\u3002\u800c Vue \u5728\u4e2d\u56fd\u7684\u652f\u6301\u5ea6\u975e\u5e38\u9ad8\uff0c\u56e0\u6b64\u5728\u4e2d\u6587\u6587\u6863\u3001\u6559\u7a0b\u7b49\u65b9\u9762\u66f4\u52a0\u5b8c\u5584\u3002")),(0,n.kt)("p",null,"\u603b\u7684\u6765\u8bf4",(0,n.kt)("strong",{parentName:"p"},"\uff0cVue \u66f4\u9002\u5408\u5f00\u53d1\u5c0f\u578b\u5230\u4e2d\u578b\u7684\u9879\u76ee\uff0c\u56e0\u4e3a Vue \u7684\u5b66\u4e60\u66f2\u7ebf\u8f83\u4f4e\uff0c\u96c6\u6210\u5ea6\u9ad8\uff0c\u5f00\u53d1\u6548\u7387\u9ad8\uff1b\u800c React \u66f4\u9002\u5408\u5f00\u53d1\u5927\u578b\u3001\u590d\u6742\u7684\u9879\u76ee\uff0c\u56e0\u4e3a React \u7684\u6027\u80fd\u66f4\u597d\uff0c\u53ef\u6269\u5c55\u6027\u66f4\u5f3a\u3002")),(0,n.kt)("h2",{id:"\u4ec0\u4e48\u662fmvc-mvvm"},(0,n.kt)("strong",{parentName:"h2"},"\u4ec0\u4e48\u662fMVC MVVM")),(0,n.kt)("h3",{id:"mvc"},"MVC"),(0,n.kt)("p",null,"MVC\u6a21\u5f0f\u5c06\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5206\u6210\u4e09\u4e2a\u90e8\u5206\uff1a",(0,n.kt)("strong",{parentName:"p"},"\u6a21\u578b\uff08Model\uff09\uff0c\u89c6\u56fe\uff08View\uff09\u548c\u63a7\u5236\u5668"),"\uff08Controller\uff09\u3002"),(0,n.kt)("p",null,"\u5176\u4e2d",(0,n.kt)("strong",{parentName:"p"},"\u6a21\u578b\u8868\u793a\u6570\u636e\u548c\u4e1a\u52a1\u903b\u8f91\uff0c\u89c6\u56fe\u8868\u793a\u7528\u6237\u754c\u9762\uff0c\u63a7\u5236\u5668\u5219\u534f\u8c03\u6a21\u578b\u548c\u89c6\u56fe\u4e4b\u95f4\u7684\u4ea4\u4e92"),"\u3002"),(0,n.kt)("p",null,"MVC\u6a21\u5f0f",(0,n.kt)("strong",{parentName:"p"},"\u5c06\u5e94\u7528\u7a0b\u5e8f\u7684\u4e0d\u540c\u90e8\u5206\u5206\u79bb\u5f00\u6765"),"\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u52a0\u6a21\u5757\u5316\u548c\u6613\u4e8e\u7ef4\u62a4\u3002"),(0,n.kt)("h3",{id:"mvvm"},"MVVM"),(0,n.kt)("p",null,"MVVM\u6a21\u5f0f\u662f\u4e00\u79cd\u57fa\u4e8eMVC\u6a21\u5f0f\u7684",(0,n.kt)("strong",{parentName:"p"},"\u524d\u7aef\u67b6\u6784\u8bbe\u8ba1\u6a21\u5f0f"),"\uff0c"),(0,n.kt)("p",null,"\u5b83\u5c06",(0,n.kt)("strong",{parentName:"p"},"\u89c6\u56fe\uff08View\uff09\u548c\u6a21\u578b\uff08Model\uff09"),"\u4e4b\u95f4",(0,n.kt)("strong",{parentName:"p"},"\u7684\u6570\u636e\u7ed1\u5b9a\uff08data binding\uff09\u4ea4\u7ed9\u4e86\u4e00\u4e2a\u540d\u4e3aViewModel\u7684\u4e2d\u95f4\u5c42"),"\uff0cViewModel\u4f1a\u5c06\u6a21\u578b\u6570\u636e\u8f6c\u6362\u6210\u89c6\u56fe\u6a21\u578b\uff08ViewModel\uff09\u6570\u636e\uff0c",(0,n.kt)("strong",{parentName:"p"},"\u7136\u540e\u518d\u5c06\u89c6\u56fe\u6a21\u578b\uff08ViewModel\uff09\u6570\u636e\u4f20\u9012\u7ed9\u89c6\u56fe\u8fdb\u884c\u6e32\u67d3"),"\u3002"),(0,n.kt)("p",null,"MVVM\u6a21\u5f0f\u53ef\u4ee5\u5b9e\u73b0\u53cc\u5411\u7ed1\u5b9a\uff0c\u5373\u89c6\u56fe\u7684\u53d8\u5316\u4f1a\u81ea\u52a8\u53cd\u6620\u5230\u6a21\u578b\u4e2d\uff0c\u800c\u6a21\u578b\u7684\u53d8\u5316\u4e5f\u4f1a\u81ea\u52a8\u53cd\u6620\u5230\u89c6\u56fe\u4e2d\u3002"),(0,n.kt)("h3",{id:"\u5bf9\u6bd4"},"\u5bf9\u6bd4"),(0,n.kt)("p",null,"\u76f8\u5bf9\u4e8eMVC\u6a21\u5f0f\uff0cMVVM\u6a21\u5f0f\u5c06\u63a7\u5236\u5668\uff08Controller\uff09\u66ff\u6362\u6210\u4e86ViewModel\uff0c",(0,n.kt)("strong",{parentName:"p"},"\u51cf\u5c11\u4e86\u63a7\u5236\u5668\uff08Controller\uff09\u4e0e\u89c6\u56fe\uff08View\uff09\u4e4b\u95f4\u7684\u8026\u5408\uff0c\u4f7f\u5f97\u4ee3\u7801\u66f4\u52a0\u7b80\u6d01\u3001\u6613\u4e8e\u7ef4\u62a4\u3002")),(0,n.kt)("h2",{id:"jsx-\u662f\u4ec0\u4e48"},"JSX \u662f\u4ec0\u4e48"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"JSX \u662f\u4e00",(0,n.kt)("strong",{parentName:"p"},"\u4e2a",(0,n.kt)("inlineCode",{parentName:"strong"},"JavaScript"),"\u7684\u8bed\u6cd5\u6269\u5c55\uff0cJSX \u53ef\u4ee5\u5f88\u597d\u5730\u63cf\u8ff0 UI \u5e94\u8be5\u5448\u73b0\u51fa\u5b83\u5e94\u6709\u4ea4\u4e92\u7684\u672c"),"\u8d28\u5f62\u5f0f")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},(0,n.kt)("em",{parentName:"p"},'17 babel \u8f6c\u6362\u4f7f\u7528 { runtime: "classic" } \u8f6c\u6362\u6210  React.createElement(\u6807\u7b7e,\u5c5e\u6027,children)'))),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},'18  babel \u8f6c\u6362\u4f7f\u7528 { runtime: "automatic" } \u8f6c\u6362\u6210\u4e0b\u9762\u7ed3\u679c\uff0c\u628achildren\u62bd\u79bb\u51fa\u53bb\u4e86'),(0,n.kt)("p",{parentName:"li"},"JSX \u7684\u7279\u70b9\u5305\u62ec\uff1a"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},"\u8bed\u6cd5\u7c7b\u4f3c\u4e8e HTML\uff0c\u6613\u4e8e\u7406\u89e3\u548c\u4e66\u5199\uff0c\u540c\u65f6\u4e5f\u80fd\u5f88\u597d\u5730\u8868\u8fbe\u7ec4\u4ef6\u4e4b\u95f4\u7684\u5d4c\u5957\u5173\u7cfb\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u5177\u6709\u8868\u8fbe\u5f0f\u7684\u80fd\u529b\uff0c\u53ef\u4ee5\u5728 JSX \u4e2d\u4f7f\u7528 JavaScript \u8868\u8fbe\u5f0f\uff0c\u4f8b\u5982\u53d8\u91cf\u3001\u51fd\u6570\u8c03\u7528\u7b49\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u652f\u6301\u4f7f\u7528\u5927\u62ec\u53f7 {} \u63d2\u5165 JavaScript \u8868\u8fbe\u5f0f\uff0c\u4f7f\u5f97\u6211\u4eec\u53ef\u4ee5\u52a8\u6001\u5730\u6e32\u67d3\u7ec4\u4ef6\uff0c\u589e\u5f3a\u4e86\u7ec4\u4ef6\u7684\u7075\u6d3b\u6027\u548c\u53ef\u590d\u7528\u6027\u3002"),(0,n.kt)("li",{parentName:"ol"},"\u5141\u8bb8\u5728 JSX \u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u65b9\u4fbf\u4e86\u7ec4\u4ef6\u7684\u62c6\u5206\u548c\u91cd\u7528\u3002"),(0,n.kt)("li",{parentName:"ol"},"JSX \u7684\u4ee3\u7801\u53ef\u8bfb\u6027\u9ad8\uff0c\u6709\u52a9\u4e8e\u4ee3\u7801\u7684\u7ef4\u62a4\u548c\u534f\u4f5c\u3002")))),(0,n.kt)("h2",{id:"fiber"},"Fiber"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Scheduler\uff08\u8c03\u5ea6\u5668\uff09\uff1a\u8c03\u5ea6\u4efb\u52a1\u7684\u4f18\u5148\u7ea7\uff0c\u9ad8\u4f18\u4efb\u52a1\u4f18\u5148\u8fdb\u5165 Reconciler"),(0,n.kt)("li",{parentName:"ol"},"Reconciler\uff08\u534f\u8c03\u5668\uff09\uff1a\u8d1f\u8d23\u627e\u51fa\u53d8\u5316\u7684\u7ec4\u4ef6\uff08\u4f7f\u7528 ",(0,n.kt)("inlineCode",{parentName:"li"},"Fiber")," \u91cd\u6784\uff09"),(0,n.kt)("li",{parentName:"ol"},"Renderer\uff08\u6e32\u67d3\u5668\uff09\uff1a\u8d1f\u8d23\u5c06\u53d8\u5316\u7684\u7ec4\u4ef6\u6e32\u67d3\u5230\u9875\u9762\u4e0a")),(0,n.kt)("p",null,"Fiber \u67b6\u6784\u662f React \u5728 16 \u7248\u672c\u4e2d\u5f15\u5165\u7684\u4e00\u79cd\u65b0\u7684\u534f\u8c03\u7b97\u6cd5\uff0c\u7528\u4e8e\u7ec4\u4ef6\u66f4\u65b0\u8fc7\u7a0b\u7684\u8c03\u5ea6\u548c\u6267\u884c\u3002\u4f20\u7edf\u7684\u534f\u8c03\u7b97\u6cd5\u662f\u9012\u5f52\u5f0f\u7684\uff0c\u4f1a\u963b\u585e\u6d4f\u89c8\u5668\u4e3b\u7ebf\u7a0b\uff0c\u5bfc\u81f4\u6027\u80fd\u95ee\u9898\u3002Fiber \u67b6\u6784\u901a\u8fc7\u5c06\u66f4\u65b0\u4efb\u52a1\u62c6\u5206\u6210\u4e00\u4e2a\u4e2a\u5c0f\u4efb\u52a1\uff0c\u5c06\u5176\u5206\u6563\u5728\u591a\u4e2a\u5e27\u4e2d\u5b8c\u6210\uff0c\u4ece\u800c\u4f7f\u5f97\u6d4f\u89c8\u5668\u4e3b\u7ebf\u7a0b\u4e0d\u88ab\u957f\u65f6\u95f4\u5360\u7528\uff0c\u63d0\u9ad8\u4e86\u5e94\u7528\u7684\u54cd\u5e94\u80fd\u529b\u3002"),(0,n.kt)("p",null,"\u5728 Fiber \u67b6\u6784\u4e2d\uff0cReact \u5e94\u7528\u7a0b\u5e8f\u7684\u7ec4\u4ef6\u6811\u88ab\u6620\u5c04\u4e3a\u4e00\u4e2a fiber \u6811\uff0c\u6bcf\u4e2a fiber \u5bf9\u8c61\u4ee3\u8868\u7740\u7ec4\u4ef6\u6811\u4e2d\u7684\u4e00\u4e2a\u7ec4\u4ef6\u6216\u8005\u4e00\u4e2a DOM \u8282\u70b9\uff0c\u4fdd\u5b58\u4e86\u7ec4\u4ef6\u72b6\u6001\u3001\u5c5e\u6027\u548c\u7ec4\u4ef6\u5bf9\u5e94\u7684 DOM \u8282\u70b9\u7b49\u4fe1\u606f\u3002\u5728\u66f4\u65b0\u8fc7\u7a0b\u4e2d\uff0cReact \u4f1a\u901a\u8fc7\u904d\u5386 fiber \u6811\u6765\u627e\u5230\u9700\u8981\u66f4\u65b0\u7684 fiber \u5bf9\u8c61\uff0c\u901a\u8fc7\u5bf9 fiber \u5bf9\u8c61\u7684\u72b6\u6001\u8fdb\u884c\u4fee\u6539\uff0c\u5b9e\u73b0\u7ec4\u4ef6\u7684\u66f4\u65b0\u3002"),(0,n.kt)("p",null,"Fiber \u67b6\u6784\u7684\u8c03\u5ea6\u8fc7\u7a0b\u901a\u8fc7 requestIdleCallback API \u5b9e\u73b0\uff0c\u6d4f\u89c8\u5668\u4f1a\u5728\u7a7a\u95f2\u65f6\u95f4\u6267\u884c React \u7684\u4efb\u52a1\u8c03\u5ea6\uff0c\u5c06 fiber \u6811\u4e2d\u9700\u8981\u66f4\u65b0\u7684\u4efb\u52a1\u5206\u89e3\u6210\u591a\u4e2a\u5c0f\u4efb\u52a1\uff0c\u5728\u591a\u4e2a\u5e27\u4e2d\u5b8c\u6210\uff0c\u4ece\u800c\u4e0d\u4f1a\u963b\u585e\u6d4f\u89c8\u5668\u4e3b\u7ebf\u7a0b\u3002"),(0,n.kt)("p",null,"Fiber \u67b6\u6784\u7684\u5f15\u5165\u4f7f\u5f97 React \u5e94\u7528\u7a0b\u5e8f\u5728\u6027\u80fd\u4e0a\u5f97\u5230\u4e86\u5f88\u5927\u7684\u63d0\u5347\uff0c\u540c\u65f6\u4e5f\u4e3a React \u672a\u6765\u7684\u53d1\u5c55\u63d0\u4f9b\u4e86\u66f4\u591a\u7684\u53ef\u80fd\u6027\u3002"),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"C:%5CUsers%5C%E5%93%97%E5%95%A6%E5%95%A6%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230328112620514.png",alt:"image-20230328112620514"})),(0,n.kt)("h4",{id:"\u6027\u80fd\u74f6\u9888"},"\u6027\u80fd\u74f6\u9888"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"JS \u4efb\u52a1\u6267\u884c\u65f6\u95f4\u8fc7\u957f",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u6d4f\u89c8\u5668\u5237\u65b0\u9891\u7387\u4e3a 60Hz,\u5927\u6982 16.6 \u6beb\u79d2\u6e32\u67d3\u4e00\u6b21\uff0c\u800c JS \u7ebf\u7a0b\u548c\u6e32\u67d3\u7ebf\u7a0b\u662f\u4e92\u65a5\u7684\uff0c\u6240\u4ee5\u5982\u679c JS \u7ebf\u7a0b\u6267\u884c\u4efb\u52a1\u65f6\u95f4\u8d85\u8fc7 16.6ms \u7684\u8bdd\uff0c\u5c31\u4f1a\u5bfc\u81f4\u6389\u5e27\uff0c\u5bfc\u81f4\u5361\u987f\uff0c\u89e3\u51b3\u65b9\u6848\u5c31\u662f React \u5229\u7528\u7a7a\u95f2\u7684\u65f6\u95f4\u8fdb\u884c\u66f4\u65b0\uff0c\u4e0d\u5f71\u54cd\u6e32\u67d3\u8fdb\u884c\u7684\u6e32\u67d3"),(0,n.kt)("li",{parentName:"ul"},"\u628a\u4e00\u4e2a\u8017\u65f6\u4efb\u52a1\u5207\u5206\u6210\u4e00\u4e2a\u4e2a\u5c0f\u4efb\u52a1\uff0c\u5206\u5e03\u5728\u6bcf\u4e00\u5e27\u91cc\u7684\u65b9\u5f0f\u5c31\u53eb\u65f6\u95f4\u5207\u7247")))),(0,n.kt)("h4",{id:"\u5c4f\u5e55\u5237\u65b0\u7387"},"\u5c4f\u5e55\u5237\u65b0\u7387"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u76ee\u524d\u5927\u591a\u6570\u8bbe\u5907\u7684\u5c4f\u5e55\u5237\u65b0\u7387\u4e3a 60 \u6b21/\u79d2"),(0,n.kt)("li",{parentName:"ul"},"\u6d4f\u89c8\u5668\u6e32\u67d3\u52a8\u753b\u6216\u9875\u9762\u7684\u6bcf\u4e00\u5e27\u7684\u901f\u7387\u4e5f\u9700\u8981\u8ddf\u8bbe\u5907\u5c4f\u5e55\u7684\u5237\u65b0\u7387\u4fdd\u6301\u4e00\u81f4"),(0,n.kt)("li",{parentName:"ul"},"\u9875\u9762\u662f\u4e00\u5e27\u4e00\u5e27\u7ed8\u5236\u51fa\u6765\u7684\uff0c\u5f53\u6bcf\u79d2\u7ed8\u5236\u7684\u5e27\u6570\uff08FPS\uff09\u8fbe\u5230 60 \u65f6\uff0c\u9875\u9762\u662f\u6d41\u7545\u7684,\u5c0f\u4e8e\u8fd9\u4e2a\u503c\u65f6\uff0c\u7528\u6237\u4f1a\u611f\u89c9\u5230\u5361\u987f"),(0,n.kt)("li",{parentName:"ul"},"\u6bcf\u4e2a\u5e27\u7684\u9884\u7b97\u65f6\u95f4\u662f 16.66 \u6beb\u79d2 (1 \u79d2/60)"),(0,n.kt)("li",{parentName:"ul"},"1s 60 \u5e27\uff0c\u6240\u4ee5\u6bcf\u4e00\u5e27\u5206\u5230\u7684\u65f6\u95f4\u662f 1000/60 \u2248 16 ms,\u6240\u4ee5\u6211\u4eec\u4e66\u5199\u4ee3\u7801\u65f6\u529b\u6c42\u4e0d\u8ba9\u4e00\u5e27\u7684\u5de5\u4f5c\u91cf\u8d85\u8fc7 16ms")),(0,n.kt)("h4",{id:"\u5e27"},"\u5e27"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6bcf\u4e2a\u5e27\u7684\u5f00\u5934\u5305\u62ec\u6837\u5f0f\u8ba1\u7b97\u3001\u5e03\u5c40\u548c\u7ed8\u5236"),(0,n.kt)("li",{parentName:"ul"},"JavaScript \u6267\u884c Javascript \u5f15\u64ce\u548c\u9875\u9762\u6e32\u67d3\u5f15\u64ce\u5728\u540c\u4e00\u4e2a\u6e32\u67d3\u7ebf\u7a0b,GUI \u6e32\u67d3\u548c Javascript \u6267\u884c\u4e24\u8005\u662f\u4e92\u65a5\u7684"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u67d0\u4e2a\u4efb\u52a1\u6267\u884c\u65f6\u95f4\u8fc7\u957f\uff0c\u6d4f\u89c8\u5668\u4f1a\u63a8\u8fdf\u6e32\u67d3")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"http://img.zhufengpeixun.cn/lifeofframe.jpg",alt:"lifeofframe"})),(0,n.kt)("h4",{id:"requestidlecallback\u6211\u4eec\u5e0c\u671b\u5feb\u901f\u54cd\u5e94\u7528\u6237\u8ba9\u7528\u6237\u89c9\u5f97\u591f\u5feb\u4e0d\u80fd\u963b\u585e\u7528\u6237\u7684\u4ea4\u4e92"},"requestIdleCallback\u6211\u4eec\u5e0c\u671b\u5feb\u901f\u54cd\u5e94\u7528\u6237\uff0c\u8ba9\u7528\u6237\u89c9\u5f97\u591f\u5feb\uff0c\u4e0d\u80fd\u963b\u585e\u7528\u6237\u7684\u4ea4\u4e92"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("inlineCode",{parentName:"li"},"requestIdleCallback")," \u4f7f\u5f00\u53d1\u8005\u80fd\u591f\u5728\u4e3b\u4e8b\u4ef6\u5faa\u73af\u4e0a\u6267\u884c\u540e\u53f0\u548c\u4f4e\u4f18\u5148\u7ea7\u5de5\u4f5c\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5ef6\u8fdf\u5173\u952e\u4e8b\u4ef6\uff0c\u5982\u52a8\u753b\u548c\u8f93\u5165\u54cd\u5e94"),(0,n.kt)("li",{parentName:"ul"},"\u6b63\u5e38\u5e27\u4efb\u52a1\u5b8c\u6210\u540e\u6ca1\u8d85\u8fc7 16 ms,\u8bf4\u660e\u65f6\u95f4\u6709\u5bcc\u4f59\uff0c\u6b64\u65f6\u5c31\u4f1a\u6267\u884c ",(0,n.kt)("inlineCode",{parentName:"li"},"requestIdleCallback")," \u91cc\u6ce8\u518c\u7684\u4efb\u52a1")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"http://img.zhufengpeixun.cn/cooperativescheduling2.jpg",alt:"cooperativescheduling2"})),(0,n.kt)("h4",{id:"55-fiber"},"5.5 fiber"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u67d0\u4e9b\u8c03\u5ea6\u7b56\u7565\u5408\u7406\u5206\u914d CPU \u8d44\u6e90\uff0c\u4ece\u800c\u63d0\u9ad8\u7528\u6237\u7684\u54cd\u5e94\u901f\u5ea6"),(0,n.kt)("li",{parentName:"ul"},"\u901a\u8fc7 Fiber \u67b6\u6784\uff0c\u8ba9\u81ea\u5df1\u7684\u8c03\u548c\u8fc7\u7a0b\u53d8\u6210\u53ef\u88ab\u4e2d\u65ad\u3002 \u9002\u65f6\u5730\u8ba9\u51fa CPU \u6267\u884c\u6743\uff0c\u9664\u4e86\u53ef\u4ee5\u8ba9\u6d4f\u89c8\u5668\u53ca\u65f6\u5730\u54cd\u5e94\u7528\u6237\u7684\u4ea4\u4e92")),(0,n.kt)("h5",{id:"1551-fiber-\u662f\u4e00\u4e2a\u6267\u884c\u5355\u5143"},"1.5.5.1 Fiber \u662f\u4e00\u4e2a\u6267\u884c\u5355\u5143"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"Fiber \u662f\u4e00\u4e2a\u6267\u884c\u5355\u5143,\u6bcf\u6b21\u6267\u884c\u5b8c\u4e00\u4e2a\u6267\u884c\u5355\u5143, React \u5c31\u4f1a\u68c0\u67e5\u73b0\u5728\u8fd8\u5269\u591a\u5c11\u65f6\u95f4\uff0c\u5982\u679c\u6ca1\u6709\u65f6\u95f4\u5c31\u5c06\u63a7\u5236\u6743\u8ba9\u51fa\u53bb")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"http://img.zhufengpeixun.cn/fiberflow.jpg",alt:"fiberflow"})),(0,n.kt)("h5",{id:"fiber-\u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784"},"Fiber \u662f\u4e00\u79cd\u6570\u636e\u7ed3\u6784"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"React \u76ee\u524d\u7684\u505a\u6cd5\u662f\u4f7f\u7528\u94fe\u8868, \u6bcf\u4e2a\u865a\u62df\u8282\u70b9\u5185\u90e8\u8868\u793a\u4e3a\u4e00\u4e2a",(0,n.kt)("inlineCode",{parentName:"li"},"Fiber")),(0,n.kt)("li",{parentName:"ul"},"\u4ece\u9876\u70b9\u5f00\u59cb\u904d\u5386"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u7b2c\u4e00\u4e2a\u513f\u5b50\uff0c\u5148\u904d\u5386\u7b2c\u4e00\u4e2a\u513f\u5b50"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u6ca1\u6709\u7b2c\u4e00\u4e2a\u513f\u5b50\uff0c\u6807\u5fd7\u7740\u6b64\u8282\u70b9\u904d\u5386\u5b8c\u6210"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u5f1f\u5f1f\u904d\u5386\u5f1f\u5f1f"),(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c\u6709\u6ca1\u6709\u4e0b\u4e00\u4e2a\u5f1f\u5f1f\uff0c\u8fd4\u56de\u7236\u8282\u70b9\u6807\u8bc6\u5b8c\u6210\u7236\u8282\u70b9\u904d\u5386\uff0c\u5982\u679c\u6709\u53d4\u53d4\u904d\u5386\u53d4\u53d4"),(0,n.kt)("li",{parentName:"ul"},"\u6ca1\u6709\u7236\u8282\u70b9\u904d\u5386\u7ed3\u675f")),(0,n.kt)("h2",{id:"react\u7684\u521d\u6b21\u6e32\u67d3"},"React\u7684\u521d\u6b21\u6e32\u67d3"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"\u901a\u8fc7babel\u7f16\u8bd1\u5c06\u5199\u7684html\u6807\u7b7e\u8f6c\u6362\u6210jsx\u51fd\u6570\u6210\u6210\u865a\u62dfdom")),(0,n.kt)("p",null,"\u200b\t\t",(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/ghx9908/image-hosting/master/img20240828141604.png?token=AU2NEGBPTRPKZWQAWSMSER3GZ3AOI",alt:null})),(0,n.kt)("ol",{start:2},(0,n.kt)("li",{parentName:"ol"},"\u8c03\u7528creatRoot\u65b9\u6cd5\u4f1a\u521b\u5efa\u4e00\u4e2aReactDOMRoot\u4e00\u4e2a\u5b9e\u4f8b")),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-JS"},'const root = createRoot(document.getElementById("root"))\n')),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/ghx9908/image-hosting/master/img20240828141640.png?token=AU2NEGBXZQYAHECYZ2ICM4DGZ3AQS",alt:null})),(0,n.kt)("ol",{start:3},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u8c03\u7528root\u7684render\u65b9\u6cd5\u5148\u628aelement\u865a\u62dfdom\u653e\u5230HostRootFiber\u7684\u66f4\u65b0\u961f\u5217\u4e2d"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u8fd9\u662f\u4e00\u4e2a\u5faa\u73af\u94fe\u8868")),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/ghx9908/image-hosting/master/img20240828141715.png?token=AU2NEGDIJXIP754DS262GGTGZ3ASW",alt:null}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u5f00\u59cb\u8c03\u5ea6\u66f4\u65b0\uff0c\u521d\u59cb\u5316\u6808")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u5f00\u59cb\u9012\u5f52\u6784\u5efafiber\u6811")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u8c03\u7528beginWork\u65b9\u6cd5 \uff0c\u76ee\u6807\u662f\u6839\u636e\u65b0\u865a\u62dfDOM\u6784\u5efa\u65b0\u7684fiber\u5b50\u94fe\u8868 child .sibling"),(0,n.kt)("ol",{parentName:"li"},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"renderRootSync(root)\u540c\u6b65\u6784\u5efafiber\u6811"),(0,n.kt)("p",{parentName:"li"},"workInProgress = createWorkInProgress(root.current, null)")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u521b\u5efa\u4e00\u4e2a root.current\u5bf9\u5e94\u7684workInProgress"))),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/ghx9908/image-hosting/master/img20240828141930.png?token=AU2NEGBWOQRXOMZ6BS3VHD3GZ3A3G",alt:null})),(0,n.kt)("ol",{parentName:"li",start:3},(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u9012\u5f52\u6784\u5efa\u5b50\u8282\u70b9workLoopSync() \u6267\u884c\u5de5\u4f5c\u5355\u5143  \u4e00\u4e2afiber\u5c31\u662f\u4e00\u4e2a\u5de5\u4f5c\u5355\u5143"),(0,n.kt)("pre",{parentName:"li"},(0,n.kt)("code",{parentName:"pre",className:"language-js"},"function workLoopSync() {\nwhile (workInProgress !== null) {\n   performUnitOfWork(workInProgress)\n}\n}\n"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u5904\u7406\u8282\u70b9\uff0c\u5c06fiber\u4e2d\u7684updataQuene\u653e\u7684\u865a\u62dfdom\u53d6\u51fa\u6765\u653e\u5230memoizedState\u4e0a\nworkInProgress.memoizedState={ element }")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"reconcileChildren\u534f\u8c03\u5b50\u8282\u70b9 diff\u7b97\u6cd5\uff0c\u770b\u770b\u6709\u6ca1\u6709\u8001fiber \u6709\u7684\u8bdd\u5c31\u662fdiff\u7b97\u6cd5update \u6ca1\u6709\u7684\u8bdd\u5c31\u662fmount"),(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u6839fiber\uff0c\u8d70updata\uff0c\u7528\u6211\u65b0\u7684element\u548c\u8001\u7684fiber\u7684\u5b50fiber\u8fdb\u884c\u6bd4\u8f83 \u548c\u521b\u5efa"),(0,n.kt)("li",{parentName:"ul"},"\u6ca1\u6709\u8001fiber\u7684 \u521b\u5efa\u5b50fiber\u94fe\u8868\u5e76\u8ba9\u7b2c\u4e00\u4e2a\u5b50fiber\u6307\u5411\u7236fiber"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"\u6839\u636e\u865a\u62dfDOM\u521b\u5efa\u65b0\u7684Fiber\u8282\u70b9,\u5e76\u4e14\u8ba9\u65b0\u521b\u5efa\u7684fiber\u7684return\u6307\u5411\u7236fiber\uff0c\u7ed9fiber\u4e0a\u9762\u6dfb\u52a0\u526f\u4f5c\u7528Placement")),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"const next = beginWork(current, unitOfWork) //\u8fd4\u56de\u65b0\u521b\u5efa\u7684\u7b2c\u4e00\u4e2a\u5b50fiber"))),(0,n.kt)("p",{parentName:"li"},"\u200b\t\u770b\u6709\u6ca1\u6709\u5b50fiber\u8282\u70b9\uff0c\u8bdd workInProgress = next"),(0,n.kt)("ol",{parentName:"li",start:8},(0,n.kt)("li",{parentName:"ol"},"\u56de\u5934\u6267\u884c\u7b2c\u4e09\u6b65 "))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"completeUnitOfWork(unitOfWork)\u5b8c\u6210\u5de5\u4f5c\u5355\u5143"),(0,n.kt)("blockquote",{parentName:"li"},(0,n.kt)("p",{parentName:"blockquote"},"\u6267\u884c\u4e00\u4e2afiber \u7684\u5b8c\u6210\u5de5\u4f5c,\u5982\u679c\u662f\u539f\u751f\u7ec4\u4ef6\u7684\u8bdd\u5c31\u662f\u521b\u5efa\u771f\u5b9e\u7684DOM\u8282\u70b9"),(0,n.kt)("p",{parentName:"blockquote"},"\u7ed9fiber.stateNode, fiber.fibersubtreeFlags fiber.flags\u8d4b\u503c")),(0,n.kt)("p",{parentName:"li"},(0,n.kt)("img",{parentName:"p",src:"https://raw.githubusercontent.com/ghx9908/image-hosting/master/img20240828141900.png?token=AU2NEGG3X2COZLV43K7XAGTGZ3AZM",alt:null}))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("p",{parentName:"li"},"commitRoot(root) \u5f00\u59cb\u8fdb\u5165\u63d0\u4ea4 \u9636\u6bb5\uff0c\u5c31\u662f\u6267\u884c\u526f\u4f5c\u7528\uff0c\u4fee\u6539\u771f\u5b9eDOM"))),(0,n.kt)("h2",{id:"react-\u7684\u5e76\u53d1\u6e32\u67d3"},"React \u7684\u5e76\u53d1\u6e32\u67d3"),(0,n.kt)("p",null,"React \u7684\u5e76\u53d1\u6e32\u67d3\uff08Concurrent Rendering\uff09\u662f React \u63d0\u4f9b\u7684\u4e00\u79cd\u9ad8\u7ea7\u6e32\u67d3\u6a21\u5f0f\uff0c\u65e8\u5728\u4f7f React \u5e94\u7528\u66f4\u5177\u54cd\u5e94\u6027\u548c\u53ef\u4ea4\u4e92\u6027\u3002\u5b83\u5141\u8bb8 React \u6253\u65ad\u957f\u65f6\u95f4\u8fd0\u884c\u7684\u6e32\u67d3\u4efb\u52a1\uff0c\u5e76\u4f18\u5148\u5904\u7406\u66f4\u7d27\u6025\u7684\u66f4\u65b0\u4efb\u52a1\uff0c\u6bd4\u5982\u7528\u6237\u8f93\u5165\uff0c\u4ece\u800c\u63d0\u5347\u5e94\u7528\u7684\u54cd\u5e94\u901f\u5ea6\u548c\u7528\u6237\u4f53\u9a8c\u3002"),(0,n.kt)("h3",{id:"\u5173\u952e\u6982\u5ff5"},"\u5173\u952e\u6982\u5ff5"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u65f6\u95f4\u5206\u7247\uff08Time Slicing\uff09"),"\uff1a",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5e76\u53d1\u6e32\u67d3\u901a\u8fc7\u5c06\u6e32\u67d3\u5de5\u4f5c\u5206\u6210\u591a\u4e2a\u5c0f\u5757\uff0c\u5e76\u5728\u6bcf\u4e00\u5e27\u4e2d\u5b8c\u6210\u4e00\u90e8\u5206\u6e32\u67d3\u5de5\u4f5c\u3002\u8fd9\u6837\uff0cReact \u53ef\u4ee5\u5728\u5904\u7406\u6e32\u67d3\u4efb\u52a1\u7684\u540c\u65f6\uff0c\u4e5f\u80fd\u54cd\u5e94\u7528\u6237\u8f93\u5165\u548c\u5176\u4ed6\u9ad8\u4f18\u5148\u7ea7\u7684\u4e8b\u4ef6\u3002"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u4f18\u5148\u7ea7\u8c03\u5ea6\uff08Priority Scheduling\uff09"),"\uff1a",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"React \u5e76\u53d1\u6a21\u5f0f\u4e0b\uff0c\u53ef\u4ee5\u6839\u636e\u4e0d\u540c\u7684\u66f4\u65b0\u7c7b\u578b\u5206\u914d\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u3002\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\uff08\u5982\u7528\u6237\u8f93\u5165\uff09\u4f1a\u6bd4\u4f4e\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\uff08\u5982\u6570\u636e\u52a0\u8f7d\u540e\u7684\u6e32\u67d3\uff09\u66f4\u65e9\u5730\u5f97\u5230\u5904\u7406\u3002"))),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("strong",{parentName:"li"},"\u4e2d\u65ad\u548c\u6062\u590d\uff08Interruptible Rendering\uff09"),"\uff1a",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5728\u5e76\u53d1\u6a21\u5f0f\u4e2d\uff0cReact \u7684\u6e32\u67d3\u5de5\u4f5c\u53ef\u4ee5\u88ab\u4e2d\u65ad\uff0c\u5141\u8bb8\u66f4\u9ad8\u4f18\u5148\u7ea7\u7684\u4efb\u52a1\u5148\u884c\u5904\u7406\u3002\u6e32\u67d3\u4efb\u52a1\u53ef\u4ee5\u5728\u4e4b\u540e\u7684\u7a7a\u95f2\u65f6\u95f4\u70b9\u7ee7\u7eed\u5b8c\u6210\u3002")))),(0,n.kt)("h3",{id:"\u5e76\u53d1\u6e32\u67d3\u7684\u4f18\u52bf"},"\u5e76\u53d1\u6e32\u67d3\u7684\u4f18\u52bf"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u63d0\u5347\u7528\u6237\u4f53\u9a8c"),"\uff1a\u901a\u8fc7\u4f18\u5148\u5904\u7406\u9ad8\u4f18\u5148\u7ea7\u4efb\u52a1\uff0c\u4f7f\u7528\u6237\u64cd\u4f5c\u66f4\u52a0\u6d41\u7545\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u907f\u514d\u9875\u9762\u5361\u987f"),"\uff1a\u5c06\u5927\u4efb\u52a1\u5206\u5272\u6210\u5c0f\u4efb\u52a1\uff0c\u907f\u514d\u4e00\u6b21\u6027\u5927\u91cf\u6e32\u67d3\u5bfc\u81f4\u9875\u9762\u5361\u987f\u3002"),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("strong",{parentName:"li"},"\u66f4\u597d\u7684\u8d44\u6e90\u5229\u7528"),"\uff1a\u5145\u5206\u5229\u7528\u6d4f\u89c8\u5668\u7684\u7a7a\u95f2\u65f6\u95f4\u8fdb\u884c\u6e32\u67d3\u3002")),(0,n.kt)("h2",{id:"diff\u7b97\u6cd5"},"DIFF\u7b97\u6cd5"),(0,n.kt)("p",null,"React \u7684 diff \u7b97\u6cd5\u662f React \u5728\u66f4\u65b0 DOM \u65f6\u4f7f\u7528\u7684\u7b97\u6cd5\u3002\u5b83\u7684\u76ee\u7684\u662f\u6700\u5c0f\u5316\u9875\u9762\u7684\u91cd\u65b0\u6e32\u67d3\uff0c\u4ee5\u4fbf\u63d0\u9ad8\u6027\u80fd\u3002"),(0,n.kt)("p",null,"\u5f53 React \u6e32\u67d3\u7ec4\u4ef6\u65f6\uff0c\u5b83\u4f1a\u5728\u5185\u5b58\u4e2d\u751f\u6210\u865a\u62df DOM \u6811\u3002\u7136\u540e\uff0c\u5b83\u4f1a\u5bf9\u6bd4\u65b0\u7684\u865a\u62df DOM \u6811\u548c\u4e4b\u524d\u7684\u6811\u7684\u5dee\u5f02\uff0c\u627e\u51fa\u6700\u5c0f\u7684\u53d8\u5316\u96c6\u5408\u3002\u8fd9\u4e9b\u53d8\u5316\u4f1a\u88ab\u6253\u5305\u6210\u4e00\u7ec4\u64cd\u4f5c\uff0c\u7528\u6765\u66f4\u65b0\u771f\u6b63\u7684 DOM\u3002"),(0,n.kt)("p",null,"React \u7684 diff \u7b97\u6cd5\u9075\u5faa\u4ee5\u4e0b\u89c4\u5219\uff1a"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u540c\u7ea7\u6bd4\u8f83\uff1aReact \u4f1a\u628a\u65b0\u7684\u865a\u62df DOM \u6811\u4e2d\u7684\u6bcf\u4e00\u4e2a\u8282\u70b9\u4e0e\u4e4b\u524d\u7684\u6811\u4e2d\u7684\u8282\u70b9\u8fdb\u884c\u6bd4\u8f83\u3002\u5982\u679c\u8282\u70b9\u7c7b\u578b\u4e0d\u540c\u6216\u8005\u5c5e\u6027\u4e0d\u540c\uff0cReact \u4f1a\u76f4\u63a5\u66ff\u6362\u6389\u539f\u6765\u7684\u8282\u70b9\u3002\u5982\u679c\u8282\u70b9\u7c7b\u578b\u76f8\u540c\uff0cReact \u4f1a\u7ee7\u7eed\u9012\u5f52\u6bd4\u8f83\u8fd9\u4e24\u4e2a\u8282\u70b9\u7684\u5b50\u8282\u70b9\u3002")),(0,n.kt)("li",{parentName:"ul"},(0,n.kt)("p",{parentName:"li"},"\u5148\u5e8f\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\uff1aReact \u4f1a\u6309\u7167\u8282\u70b9\u7684\u5148\u5e8f\u6df1\u5ea6\u4f18\u5148\u641c\u7d22\u7684\u987a\u5e8f\uff0c\u5bf9\u6bd4\u65b0\u65e7\u4e24\u68f5\u865a\u62df DOM \u6811\u3002\u8fd9\u610f\u5473\u7740\uff0c\u5982\u679c\u8282\u70b9 A \u5728\u865a\u62df DOM \u4e2d\u51fa\u73b0\u5728\u8282\u70b9 B \u4e4b\u524d\uff0c\u90a3\u4e48\u5728\u6bd4\u8f83\u8fc7\u7a0b\u4e2d\uff0cA \u4e5f\u4f1a\u5148\u4e8e B \u88ab\u6bd4\u8f83\u3002"),(0,n.kt)("p",{parentName:"li"},"\u5728\u6bd4\u8f83\u540c\u7ea7\u8282\u70b9\u65f6\uff0cReact \u4f1a\u5c3d\u53ef\u80fd\u591a\u5730\u4fdd\u7559\u539f\u6765\u7684\u8282\u70b9\u3002\u5982\u679c\u65b0\u7684\u865a\u62df DOM \u4e2d\u6709\u591a\u4f59\u7684\u8282\u70b9\uff0c\u5b83\u4f1a\u628a\u591a\u4f59\u7684\u8282\u70b9\u63d2\u5165\u5230\u76f8\u5e94\u7684\u4f4d\u7f6e\uff1b\u5982\u679c\u65b0\u7684\u865a\u62df DOM \u4e2d\u5c11\u4e86\u67d0\u4e9b\u8282\u70b9\uff0c\u5b83\u4f1a\u628a\u591a\u4f59\u7684\u8282\u70b9\u5220\u9664\u3002"),(0,n.kt)("p",{parentName:"li"},"\u5728\u6bd4\u8f83\u8fc7\u7a0b\u4e2d\uff0cReact \u4f1a\u628a\u8282\u70b9\u5206\u6210\u56db\u7c7b\uff1a\u65b0\u589e\u3001\u5220\u9664\u3001\u4fee\u6539\u3001\u79fb\u52a8\u3002\u5bf9\u4e8e\u65b0\u589e\u3001\u5220\u9664\u3001\u4fee\u6539\u7684\u8282\u70b9\uff0cReact \u4f1a\u76f4\u63a5\u5728 DOM \u4e2d\u8fdb\u884c\u5bf9\u5e94\u7684\u64cd\u4f5c\u3002\u5bf9\u4e8e\u79fb\u52a8\u7684\u8282\u70b9\uff0cReact \u4f1a\u5148\u5c06\u8282\u70b9\u4ece\u539f\u6765\u7684\u4f4d\u7f6e\u5220\u9664\uff0c\u7136\u540e\u518d\u5c06\u8282\u70b9\u63d2\u5165\u5230\u65b0\u7684\u4f4d\u7f6e\u3002"))),(0,n.kt)("h3",{id:"\u5355\u8282\u70b9-1"},"\u5355\u8282\u70b9"),(0,n.kt)("p",null,"![image-20230723100621987]","(/Users/dxm/Library/Application Support/typora-user-images/image-20230723100621987.png)"),(0,n.kt)("h3",{id:"\u591a\u8282\u70b9\u7684-diff"},"\u591a\u8282\u70b9\u7684 diff"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"DOM DIFF \u7684\u4e09\u4e2a\u89c4\u5219",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u53ea\u5bf9\u540c\u7ea7\u5143\u7d20\u8fdb\u884c\u6bd4\u8f83\uff0c\u4e0d\u540c\u5c42\u7ea7\u4e0d\u5bf9\u6bd4"),(0,n.kt)("li",{parentName:"ul"},"\u4e0d\u540c\u7684\u7c7b\u578b\u5bf9\u5e94\u4e0d\u540c\u7684\u5143\u7d20"),(0,n.kt)("li",{parentName:"ul"},"\u53ef\u4ee5\u901a\u8fc7 key \u6765\u6807\u8bc6\u540c\u4e00\u4e2a\u8282\u70b9"))),(0,n.kt)("li",{parentName:"ul"},"\u7b2c 1 \u8f6e\u904d\u5386",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5982\u679c key \u4e0d\u540c\u5219\u76f4\u63a5\u7ed3\u675f\u672c\u8f6e\u5faa\u73af"),(0,n.kt)("li",{parentName:"ul"},"newChildren \u6216 oldFiber \u904d\u5386\u5b8c\uff0c\u7ed3\u675f\u672c\u8f6e\u5faa\u73af"),(0,n.kt)("li",{parentName:"ul"},"key \u76f8\u540c\u800c type \u4e0d\u540c\uff0c\u6807\u8bb0\u8001\u7684 oldFiber \u4e3a\u5220\u9664\uff0c\u7ee7\u7eed\u5faa\u73af"),(0,n.kt)("li",{parentName:"ul"},"key \u76f8\u540c\u800c type \u4e5f\u76f8\u540c\uff0c\u5219\u53ef\u4ee5\u590d\u7528\u8001\u8282 oldFiber \u8282\u70b9\uff0c\u7ee7\u7eed\u5faa\u73af"))),(0,n.kt)("li",{parentName:"ul"},"\u7b2c 2 \u8f6e\u904d\u5386",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"newChildren \u904d\u5386\u5b8c\u800c oldFiber \u8fd8\u6709\uff0c\u904d\u5386\u5269\u4e0b\u6240\u6709\u7684 oldFiber \u6807\u8bb0\u4e3a\u5220\u9664\uff0cDIFF \u7ed3\u675f"),(0,n.kt)("li",{parentName:"ul"},"oldFiber \u904d\u5386\u5b8c\u4e86\uff0c\u800c newChildren \u8fd8\u6709\uff0c\u5c06\u5269\u4e0b\u7684 newChildren \u6807\u8bb0\u4e3a\u63d2\u5165\uff0cDIFF \u7ed3\u675f"),(0,n.kt)("li",{parentName:"ul"},"newChildren \u548c oldFiber \u90fd\u540c\u65f6\u904d\u5386\u5b8c\u6210\uff0cdiff \u7ed3\u675f"),(0,n.kt)("li",{parentName:"ul"},"newChildren \u548c oldFiber \u90fd\u6ca1\u6709\u5b8c\u6210\uff0c\u5219\u8fdb\u884c",(0,n.kt)("inlineCode",{parentName:"li"},"\u8282\u70b9\u79fb\u52a8"),"\u7684\u903b\u8f91"))),(0,n.kt)("li",{parentName:"ul"},"\u7b2c 3 \u8f6e\u904d\u5386",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u5904\u7406\u8282\u70b9\u79fb\u52a8\u7684\u60c5\u51b5")))),(0,n.kt)("h2",{id:"\u4e8b\u4ef6\u673a\u5236"},"\u4e8b\u4ef6\u673a\u5236"),(0,n.kt)("p",null,"![image-20240828222549839]","(/Users/dxm/Library/Application Support/typora-user-images/image-20240828222549839.png)"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u5408\u6210\u4e8b\u4ef6\u662f\u56f4\u7ed5\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u5145\u5f53\u8de8\u6d4f\u89c8\u5668\u5305\u88c5\u5668\u7684\u5bf9\u8c61,\u5b83\u4eec\u5c06\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u884c\u4e3a\u5408\u5e76\u4e3a\u4e00\u4e2a API,\u8fd9\u6837\u505a\u662f\u4e3a\u4e86\u786e\u4fdd\u4e8b\u4ef6\u5728\u4e0d\u540c\u6d4f\u89c8\u5668\u4e2d\u663e\u793a\u4e00\u81f4\u7684\u5c5e\u6027")),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"\u4e8b\u4ef6\u90fd\u7ed1\u5b9a\u5230\u4e86 ",(0,n.kt)("inlineCode",{parentName:"p"},"div#root")," \u4e0a \u53ef\u4ee5\u5927\u91cf\u8282\u7701\u5185\u5b58\u5360\u7528\uff0c\u51cf\u5c11\u4e8b\u4ef6\u6ce8\u518c,\u5f53\u65b0\u589e\u5b50\u5bf9\u8c61\u65f6\u65e0\u9700\u518d\u6b21\u5bf9\u5176\u7ed1\u5b9a")),(0,n.kt)("h3",{id:"\u5e95\u5c42\u5b9e\u73b0\u539f\u7406"},"\u5e95\u5c42\u5b9e\u73b0\u539f\u7406"),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u901a\u8fc7\u63d2\u4ef6\u7cfb\u7edf\u6ce8\u518c\u4e8b\u4ef6\u540d"),(0,n.kt)("li",{parentName:"ul"},"\u7ed9",(0,n.kt)("inlineCode",{parentName:"li"},"div#root"),"\u7ed1\u5b9a\u4e8b\u4ef6",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u904d\u5386\u6240\u6709\u7684\u539f\u751f\u7684\u4e8b\u4ef6\u6bd4\u5982click,\u8fdb\u884c\u76d1\u542c"),(0,n.kt)("li",{parentName:"ul"},"\u751f\u6210dispatchEvent\u51fd\u6570\uff0c\u7ed1\u5b9a\u4e24\u4e2a\u9636\u6bb5\u7684\u4e8b\u4ef6"))),(0,n.kt)("li",{parentName:"ul"},"\u6d3e\u53d1\u4e8b\u4ef6\u5192\u6ce1\u548c\u6355\u83b7\uff08\u70b9\u51fb\u4e8b\u4ef6\u6e90\uff09",(0,n.kt)("ul",{parentName:"li"},(0,n.kt)("li",{parentName:"ul"},"\u83b7\u53d6\u4e8b\u4ef6\u6e90\uff0c\u62ff\u5230\u771f\u5b9eDOM\u548c\u5bf9\u5e94\u7684fiber"),(0,n.kt)("li",{parentName:"ul"},"\u4ece\u4e8b\u4ef6\u6e90\u5411\u4e0a\u9012\u904d\u5386fiber\uff0c\u5c06\u5bf9\u5e94\u4e8b\u4ef6\u6620\u5c04\u7684\u51fd\u6570\u6dfb\u52a0\u5230 listeners"),(0,n.kt)("li",{parentName:"ul"},"\u521b\u5efa\u5408\u6210\u4e8b\u4ef6\u5b9e\u4f8b\uff0c\u517c\u5bb9\u5904\u7406"),(0,n.kt)("li",{parentName:"ul"},"\u5c06\u5bf9\u5e94\u7684\u5408\u6210\u4e8b\u4ef6\u548c\u51fd\u6570\u6dfb\u52a0\u5230 dispatchQueue"))),(0,n.kt)("li",{parentName:"ul"},"\u533a\u5206\u5192\u6ce1\u548c\u6355\u83b7 \u6267\u884c\u5bf9\u5e94\u7684\u56de\u8c03\u51fd\u6570")),(0,n.kt)("p",null,"\u767d\u8bdd\u6587\uff1a"),(0,n.kt)("h3",{id:"\u5176\u4ed6"},"\u5176\u4ed6"),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u5408\u6210\u4e8b\u4ef6")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u5408\u6210\u4e8b\u4ef6\u662f\u56f4\u7ed5\u6d4f\u89c8\u5668\u539f\u751f\u4e8b\u4ef6\u5145\u5f53\u8de8\u6d4f\u89c8\u5668\u5305\u88c5\u5668\u7684\u5bf9\u8c61,\u5b83\u4eec\u5c06\u4e0d\u540c\u6d4f\u89c8\u5668\u7684\u884c\u4e3a\u5408\u5e76\u4e3a\u4e00\u4e2a API,\u8fd9\u6837\u505a\u662f\u4e3a\u4e86\u786e\u4fdd\u4e8b\u4ef6\u5728\u4e0d\u540c\u6d4f\u89c8\u5668\u4e2d\u663e\u793a\u4e00\u81f4\u7684\u5c5e\u6027 \uff0c"),(0,n.kt)("li",{parentName:"ul"},"event \u91cd\u5199preventDefault \u548cstopPropagation\u7b49\u505a\u517c\u5bb9\u5904\u7406")),(0,n.kt)("p",null,(0,n.kt)("strong",{parentName:"p"},"\u4e8b\u4ef6\u4ee3\u7406")),(0,n.kt)("ul",null,(0,n.kt)("li",{parentName:"ul"},"\u4e8b\u4ef6\u4ee3\u7406\u53c8\u79f0\u4e4b\u4e3a\u4e8b\u4ef6\u59d4\u6258"),(0,n.kt)("li",{parentName:"ul"},"\u4e8b\u4ef6\u4ee3\u7406\u662f\u628a\u539f\u672c\u9700\u8981\u7ed1\u5b9a\u5728\u5b50\u5143\u7d20\u7684\u4e8b\u4ef6\u59d4\u6258\u7ed9\u7236\u5143\u7d20\uff0c\u8ba9\u7236\u5143\u7d20\u8d1f\u8d23\u4e8b\u4ef6\u76d1\u542c"),(0,n.kt)("li",{parentName:"ul"},"\u4e8b\u4ef6\u4ee3\u7406\u662f\u5229\u7528\u4e8b\u4ef6\u5192\u6ce1\u6765\u5b9e\u73b0\u7684")),(0,n.kt)("h2",{id:"hooks"},"Hooks"),(0,n.kt)("h3",{id:"usecallback"},(0,n.kt)("strong",{parentName:"h3"},"useCallback")),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"useCallback")," \u7684\u4f5c\u7528\u662f",(0,n.kt)("strong",{parentName:"p"},"\u7f13\u5b58\u4e00\u4e2a\u51fd\u6570\uff0c"),"\u907f\u514d\u5728\u6bcf\u6b21\u6e32\u67d3\u65f6\u90fd\u521b\u5efa\u65b0\u7684\u51fd\u6570\uff0c\u51cf\u5c11\u5b50\u7ec4\u4ef6\u91cd\u590d\u6e32\u67d3\u7684\u6b21\u6570\u3002"),(0,n.kt)("p",null,"\u5b83\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff1a\u56de\u8c03\u51fd\u6570\u548c\u4e00\u4e2a\u4f9d\u8d56\u6570\u7ec4\u3002\u53ea\u6709\u5f53\u4f9d\u8d56\u6570\u7ec4\u4e2d\u7684\u53d8\u91cf\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u624d\u4f1a\u91cd\u65b0\u521b\u5efa\u65b0\u7684\u51fd\u6570\u5e76\u8fd4\u56de\u3002"),(0,n.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u7236\u7ec4\u4ef6\uff0c\u5185\u90e8\u5305\u542b\u4e00\u4e2a\u5b50\u7ec4\u4ef6",(0,n.kt)("strong",{parentName:"p"},"\uff0c\u7236\u7ec4\u4ef6\u4f20\u9012\u7ed9\u5b50\u7ec4\u4ef6\u4e00\u4e2a\u56de\u8c03\u51fd\u6570")," ",(0,n.kt)("inlineCode",{parentName:"p"},"handleClick"),"\uff0c\u5b50\u7ec4\u4ef6\u5185\u90e8\u901a\u8fc7 ",(0,n.kt)("inlineCode",{parentName:"p"},"props.handleClick()")," \u89e6\u53d1\u8be5\u51fd\u6570\u3002\u5982\u679c ",(0,n.kt)("inlineCode",{parentName:"p"},"handleClick")," \u6bcf\u6b21\u90fd\u662f\u65b0\u7684\u51fd\u6570\uff0c\u5b50\u7ec4\u4ef6\u5728\u6bd4\u5bf9 ",(0,n.kt)("inlineCode",{parentName:"p"},"props")," \u7684\u65f6\u5019\u5c31\u4f1a\u91cd\u65b0\u6e32\u67d3\uff0c\u5f71\u54cd\u6027\u80fd\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"useCallback")," \u7f13\u5b58 ",(0,n.kt)("inlineCode",{parentName:"p"},"handleClick")," \u51fd\u6570\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u5b50\u7ec4\u4ef6\u91cd\u590d\u6e32\u67d3\u3002"),(0,n.kt)("h3",{id:"usememo"},"useMemo"),(0,n.kt)("p",null,(0,n.kt)("inlineCode",{parentName:"p"},"useMemo")," \u7684\u4f5c\u7528\u662f",(0,n.kt)("strong",{parentName:"p"},"\u7f13\u5b58\u4e00\u4e2a\u503c"),"\uff0c\u907f\u514d\u5728\u6bcf\u6b21\u6e32\u67d3\u65f6\u90fd\u91cd\u65b0\u8ba1\u7b97\uff0c\u540c\u6837\u662f\u4e3a\u4e86\u51cf\u5c11\u5b50\u7ec4\u4ef6\u91cd\u590d\u6e32\u67d3\u7684\u6b21\u6570\u3002"),(0,n.kt)("p",null,"\u5b83\u63a5\u6536\u4e24\u4e2a\u53c2\u6570\uff1a\u8ba1\u7b97\u51fd\u6570\u548c\u4e00\u4e2a\u4f9d\u8d56\u6570\u7ec4\u3002\u53ea\u6709\u5f53\u4f9d\u8d56\u6570\u7ec4\u4e2d\u7684\u53d8\u91cf\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u624d\u4f1a\u91cd\u65b0\u8ba1\u7b97\u65b0\u7684\u503c\u5e76\u8fd4\u56de\u3002"),(0,n.kt)("p",null,"\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u6709\u4e00\u4e2a\u7236\u7ec4\u4ef6\uff0c\u5185\u90e8\u9700\u8981\u663e\u793a\u4e00\u4e2a\u8ba1\u7b97\u7ed3\u679c\uff0c\u8ba1\u7b97\u7684\u8fc7\u7a0b\u9700\u8981\u8017\u8d39\u4e00\u4e9b\u65f6\u95f4\uff0c\u5982\u679c\u6bcf\u6b21\u6e32\u67d3\u90fd\u8981\u91cd\u65b0\u8ba1\u7b97\uff0c\u4f1a\u5f71\u54cd\u9875\u9762\u6027\u80fd\u3002\u8fd9\u65f6\u5019\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 ",(0,n.kt)("inlineCode",{parentName:"p"},"useMemo")," \u7f13\u5b58\u8ba1\u7b97\u7ed3\u679c\uff0c\u907f\u514d\u4e0d\u5fc5\u8981\u7684\u8ba1\u7b97\u3002"),(0,n.kt)("p",null,"\u7efc\u4e0a\u6240\u8ff0\uff0c",(0,n.kt)("inlineCode",{parentName:"p"},"useCallback")," \u548c ",(0,n.kt)("inlineCode",{parentName:"p"},"useMemo")," \u90fd\u662f",(0,n.kt)("strong",{parentName:"p"},"\u4e3a\u4e86\u4f18\u5316\u6027\u80fd\uff0c\u524d\u8005\u4f18\u5316\u51fd\u6570\uff0c\u540e\u8005\u4f18\u5316\u503c\uff0c\u533a\u522b\u5728\u4e8e\u8fd4\u56de\u503c\u4e0d\u540c\u3002")),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"C:%5CUsers%5C%E5%93%97%E5%95%A6%E5%95%A6%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230328112259714.png",alt:"image-20230328112259714"})),(0,n.kt)("p",null,(0,n.kt)("img",{parentName:"p",src:"C:%5CUsers%5C%E5%93%97%E5%95%A6%E5%95%A6%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5Cimage-20230328112647644.png",alt:"image-20230328112647644"})),(0,n.kt)("h2",{id:"\u5b9e\u73b0"},"\u5b9e\u73b0"),(0,n.kt)("h3",{id:"jsx"},"jsx"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},'const { hasOwnProperty } = Object.prototype\nconst REACT_ELEMENT_TYPE = Symbol.for("react.element")\n//\u4fdd\u7559\u7684\u5c5e\u6027\uff0c\u4e0d\u4f1a\u653e\u5728props\u4e0a\nconst RESERVED_PROPS = {\n  key: true,\n  ref: true,\n  __self: true,\n  __source: true,\n}\n\nfunction hasValidRef(config) {\n  return config.ref !== undefined\n}\n\nfunction ReactElement(type, key, ref, props) {\n  return {\n    //\u8fd9\u5c31\u662fReact\u5143\u7d20\uff0c\u4e5f\u88ab\u79f0\u4e3a\u865a\u62dfDOM\n    $$typeof: REACT_ELEMENT_TYPE,\n    type, //h1 span\n    key, //\u552f\u4e00\u6807\u8bc6\n    ref, //\u540e\u9762\u518d\u8bb2\uff0c\u662f\u7528\u6765\u83b7\u53d6\u771f\u5b9eDOM\u5143\u7d20\n    props, //\u5c5e\u6027 children,style,id\n  }\n}\n//React17\u4ee5\u524d\u8001\u7248\u7684\u8f6c\u6362\u51fd\u6570\u4e2dkey \u662f\u653e\u5728config\u91cc\u7684,\u7b2c\u4e09\u4e2a\u53c2\u6570\u653echildren\n//React17\u4e4b\u540e\u65b0\u7248\u7684\u8f6c\u6362\u51fd\u6570\u4e2dkey\u662f\u5728\u7b2c\u4e09\u4e2a\u53c2\u6570\u4e2d\u7684\uff0cchildren\u662f\u653e\u5728config\u91cc\u7684\nexport function jsxDEV(type, config, maybeKey) {\n  let propName //\u5c5e\u6027\u540d\n  const props = {} //\u5c5e\u6027\u5bf9\u8c61\n  let key = null //\u6bcf\u4e2a\u865a\u62dfDOM\u53ef\u4ee5\u6709\u4e00\u4e2a\u53ef\u9009\u7684key\u5c5e\u6027\uff0c\u7528\u6765\u533a\u5206\u4e00\u4e2a\u7236\u8282\u70b9\u4e0b\u7684\u4e0d\u540c\u5b50\u8282\u70b9\n  let ref = null //\u5f15\u5165\uff0c\u540e\u9762\u53ef\u4ee5\u901a\u8fc7\u8fd9\u5b9e\u73b0\u83b7\u53d6\u771f\u5b9eDOM\u7684\u9700\u6c42\n  if (typeof maybeKey !== "undefined") {\n    key = maybeKey\n  }\n\n  if (hasValidRef(config)) {\n    ref = config.ref\n  }\n  for (propName in config) {\n    if (\n      hasOwnProperty.call(config, propName) &&\n      !RESERVED_PROPS.hasOwnProperty(propName)\n    ) {\n      props[propName] = config[propName]\n    }\n  }\n  return ReactElement(type, key, ref, props)\n}\n')),(0,n.kt)("h3",{id:"userffect-hook"},"useRffect hook"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"let effects = [] // \u5b9a\u4e49\u526f\u4f5c\u7528\u6570\u7ec4\nlet idx = 0 // \u5b9a\u4e49\u526f\u4f5c\u7528\u7d22\u5f15\n\nfunction useEffect(callback, dependencies) {\n  // \u5982\u679c\u6ca1\u6709\u6307\u5b9a\u4f9d\u8d56\u9879\uff0c\u5219\u9ed8\u8ba4\u4e3a\u5168\u90e8\u4f9d\u8d56\n  const dependenciesArr = dependencies || [true]\n\n  // \u5982\u679c\u5f53\u524d\u7d22\u5f15\u4e3a\u7a7a\uff0c\u5219\u6dfb\u52a0\u65b0\u7684\u526f\u4f5c\u7528\n  if (!effects[idx]) {\n    effects[idx] = {\n      dependencies: dependenciesArr,\n      cleanup: undefined,\n    }\n  }\n\n  // \u68c0\u67e5\u4f9d\u8d56\u9879\u662f\u5426\u6709\u4efb\u4f55\u66f4\u6539\n  const dependenciesChanged = effects[idx].dependencies.some(\n    (dep, i) => dep !== dependenciesArr[i]\n  )\n\n  // \u5982\u679c\u4f9d\u8d56\u9879\u6709\u66f4\u6539\uff0c\u5219\u8fd0\u884c\u6e05\u7406\u51fd\u6570\u5e76\u91cd\u65b0\u8bbe\u7f6e\u526f\u4f5c\u7528\n  if (dependenciesChanged && effects[idx].cleanup) {\n    effects[idx].cleanup()\n    effects[idx] = {\n      dependencies: dependenciesArr,\n      cleanup: callback(),\n    }\n  }\n\n  // \u5982\u679c\u4f9d\u8d56\u9879\u6ca1\u6709\u66f4\u6539\uff0c\u5219\u4ec0\u4e48\u90fd\u4e0d\u505a\n  effects[idx].dependencies = dependenciesArr\n  idx++\n}\n\nfunction render() {\n  idx = 0 // \u91cd\u7f6e\u526f\u4f5c\u7528\u7d22\u5f15\n\n  // \u6e32\u67d3\u7ec4\u4ef6\n}\n")),(0,n.kt)("h3",{id:"usestate"},"useState"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-js"},"let state // \u5b9a\u4e49\u72b6\u6001\u53d8\u91cf\n\nfunction useState(initialValue) {\n  state = state || initialValue // \u521d\u59cb\u5316\u72b6\u6001\u53d8\u91cf\n\n  function setState(newState) {\n    state = newState // \u66f4\u65b0\u72b6\u6001\u53d8\u91cf\n    render() // \u91cd\u65b0\u6e32\u67d3\u7ec4\u4ef6\n  }\n\n  return [state, setState] // \u8fd4\u56de\u72b6\u6001\u548c\u66f4\u65b0\u51fd\u6570\n}\n")))}u.isMDXComponent=!0}}]);